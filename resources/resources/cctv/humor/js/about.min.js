(function(a){H.about={guid:getQueryString("guid"),$cover:a("#cover"),page:1,pageSize:10,total:0,init:function(){getResult("common/activtyRule/"+serviceNo,{},"callbackRuleHandler",true,a("#ui-rule"));getResult("humor/replay?guid="+this.guid,{},"callbackHumorReplay",true);getList(true);this.event_handler();var b=a(window).height();a(".main").css("minHeight",b)},event_handler:function(){a("#ui-movies").delegate(".movie","click",function(c){var b=a(this).attr("data-guid");window.location.href="about.html?guid="+b})},update_video:function(e){a("#desc").text(e.t||"");a("#page").attr("data-title",e.t||"").attr("data-guid",this.guid);a("#title").find("span").text(e.da||"");if(!e.vul){return}var d=this.$cover.width(),b=this.$cover.height(),c=add_param(e.vul,"width",d,true);c=add_param(c,"height",b,true);this.$cover.find("iframe").attr("src",c)},add_items:function(f){var c=f.items||[],b=c.length,e=simpleTpl();this.total=f.ac;for(var d=0;d<b;d++){e._('<div class="ui-movie movie" data-guid="'+c[d].guid+'" data-collect="true" data-collect-flag="cctv1-about-tomovie" data-collect-desc="家庭幽默重播页面-进入视频播放">')._('<div class="cover"></div>')._('<div class="content">')._("<h3>《CCTV家庭幽默大赛》<span>"+c[d].da+"</span></h3>")._("<p>"+(c[d].t||"")+"</p>")._("</div>")._("</div>")}a("#ui-list").append(e.toString());a("#ui-movies").removeClass("none")}};W.getList=function(b){getResult("humor/repage",{tsuid:stationUuid,page:H.about.page,pageSize:H.about.pageSize},"callbackHumorRePage",true)};W.callbackHumorRePage=function(b){if(b.code!=0){return}H.about.add_items(b)};W.callbackRuleHandler=function(b){if(b.code==0&&b.rule){a("#ui-rule").html(b.rule).removeClass("none")}};W.callbackHumorReplay=function(b){H.about.update_video(b)}})(Zepto);H.about.init();
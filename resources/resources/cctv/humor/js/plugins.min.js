var hexcase=0;function hex_md5(b){return rstr2hex(rstr_md5(str2rstr_utf8(b)))}function hex_hmac_md5(d,c){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(d),str2rstr_utf8(c)))}function md5_vm_test(){return hex_md5("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"}function rstr_md5(b){return binl2rstr(binl_md5(rstr2binl(b),b.length*8))}function rstr_hmac_md5(n,k){var l=rstr2binl(n);if(l.length>16){l=binl_md5(l,n.length*8)}var i=Array(16),m=Array(16);for(var h=0;h<16;h++){i[h]=l[h]^909522486;m[h]=l[h]^1549556828}var j=binl_md5(i.concat(rstr2binl(k)),512+k.length*8);return binl2rstr(binl_md5(m.concat(j),512+128))}function rstr2hex(l){try{hexcase}catch(i){hexcase=0}var j=hexcase?"0123456789ABCDEF":"0123456789abcdef";var e="";var h;for(var k=0;k<l.length;k++){h=l.charCodeAt(k);e+=j.charAt((h>>>4)&15)+j.charAt(h&15)}return e}function str2rstr_utf8(j){var f="";var i=-1;var g,h;while(++i<j.length){g=j.charCodeAt(i);h=i+1<j.length?j.charCodeAt(i+1):0;if(55296<=g&&g<=56319&&56320<=h&&h<=57343){g=65536+((g&1023)<<10)+(h&1023);i++}if(g<=127){f+=String.fromCharCode(g)}else{if(g<=2047){f+=String.fromCharCode(192|((g>>>6)&31),128|(g&63))}else{if(g<=65535){f+=String.fromCharCode(224|((g>>>12)&15),128|((g>>>6)&63),128|(g&63))}else{if(g<=2097151){f+=String.fromCharCode(240|((g>>>18)&7),128|((g>>>12)&63),128|((g>>>6)&63),128|(g&63))}}}}}return f}function rstr2binl(d){var e=Array(d.length>>2);for(var f=0;f<e.length;f++){e[f]=0}for(var f=0;f<d.length*8;f+=8){e[f>>5]|=(d.charCodeAt(f/8)&255)<<(f%32)}return e}function binl2rstr(d){var e="";for(var f=0;f<d.length*32;f+=8){e+=String.fromCharCode((d[f>>5]>>>(f%32))&255)}return e}function binl_md5(a,q){a[q>>5]|=128<<((q)%32);a[(((q+64)>>>9)<<4)+14]=q;var b=1732584193;var c=-271733879;var d=-1732584194;var i=271733878;for(var t=0;t<a.length;t+=16){var r=b;var s=c;var u=d;var v=i;b=md5_ff(b,c,d,i,a[t+0],7,-680876936);i=md5_ff(i,b,c,d,a[t+1],12,-389564586);d=md5_ff(d,i,b,c,a[t+2],17,606105819);c=md5_ff(c,d,i,b,a[t+3],22,-1044525330);b=md5_ff(b,c,d,i,a[t+4],7,-176418897);i=md5_ff(i,b,c,d,a[t+5],12,1200080426);d=md5_ff(d,i,b,c,a[t+6],17,-1473231341);c=md5_ff(c,d,i,b,a[t+7],22,-45705983);b=md5_ff(b,c,d,i,a[t+8],7,1770035416);i=md5_ff(i,b,c,d,a[t+9],12,-1958414417);d=md5_ff(d,i,b,c,a[t+10],17,-42063);c=md5_ff(c,d,i,b,a[t+11],22,-1990404162);b=md5_ff(b,c,d,i,a[t+12],7,1804603682);i=md5_ff(i,b,c,d,a[t+13],12,-40341101);d=md5_ff(d,i,b,c,a[t+14],17,-1502002290);c=md5_ff(c,d,i,b,a[t+15],22,1236535329);b=md5_gg(b,c,d,i,a[t+1],5,-165796510);i=md5_gg(i,b,c,d,a[t+6],9,-1069501632);d=md5_gg(d,i,b,c,a[t+11],14,643717713);c=md5_gg(c,d,i,b,a[t+0],20,-373897302);b=md5_gg(b,c,d,i,a[t+5],5,-701558691);i=md5_gg(i,b,c,d,a[t+10],9,38016083);d=md5_gg(d,i,b,c,a[t+15],14,-660478335);c=md5_gg(c,d,i,b,a[t+4],20,-405537848);b=md5_gg(b,c,d,i,a[t+9],5,568446438);i=md5_gg(i,b,c,d,a[t+14],9,-1019803690);d=md5_gg(d,i,b,c,a[t+3],14,-187363961);c=md5_gg(c,d,i,b,a[t+8],20,1163531501);b=md5_gg(b,c,d,i,a[t+13],5,-1444681467);i=md5_gg(i,b,c,d,a[t+2],9,-51403784);d=md5_gg(d,i,b,c,a[t+7],14,1735328473);c=md5_gg(c,d,i,b,a[t+12],20,-1926607734);b=md5_hh(b,c,d,i,a[t+5],4,-378558);i=md5_hh(i,b,c,d,a[t+8],11,-2022574463);d=md5_hh(d,i,b,c,a[t+11],16,1839030562);c=md5_hh(c,d,i,b,a[t+14],23,-35309556);b=md5_hh(b,c,d,i,a[t+1],4,-1530992060);i=md5_hh(i,b,c,d,a[t+4],11,1272893353);d=md5_hh(d,i,b,c,a[t+7],16,-155497632);c=md5_hh(c,d,i,b,a[t+10],23,-1094730640);b=md5_hh(b,c,d,i,a[t+13],4,681279174);i=md5_hh(i,b,c,d,a[t+0],11,-358537222);d=md5_hh(d,i,b,c,a[t+3],16,-722521979);c=md5_hh(c,d,i,b,a[t+6],23,76029189);b=md5_hh(b,c,d,i,a[t+9],4,-640364487);i=md5_hh(i,b,c,d,a[t+12],11,-421815835);d=md5_hh(d,i,b,c,a[t+15],16,530742520);c=md5_hh(c,d,i,b,a[t+2],23,-995338651);b=md5_ii(b,c,d,i,a[t+0],6,-198630844);i=md5_ii(i,b,c,d,a[t+7],10,1126891415);d=md5_ii(d,i,b,c,a[t+14],15,-1416354905);c=md5_ii(c,d,i,b,a[t+5],21,-57434055);b=md5_ii(b,c,d,i,a[t+12],6,1700485571);i=md5_ii(i,b,c,d,a[t+3],10,-1894986606);d=md5_ii(d,i,b,c,a[t+10],15,-1051523);c=md5_ii(c,d,i,b,a[t+1],21,-2054922799);b=md5_ii(b,c,d,i,a[t+8],6,1873313359);i=md5_ii(i,b,c,d,a[t+15],10,-30611744);d=md5_ii(d,i,b,c,a[t+6],15,-1560198380);c=md5_ii(c,d,i,b,a[t+13],21,1309151649);b=md5_ii(b,c,d,i,a[t+4],6,-145523070);i=md5_ii(i,b,c,d,a[t+11],10,-1120210379);d=md5_ii(d,i,b,c,a[t+2],15,718787259);c=md5_ii(c,d,i,b,a[t+9],21,-343485551);b=safe_add(b,r);c=safe_add(c,s);d=safe_add(d,u);i=safe_add(i,v)}return Array(b,c,d,i)}function md5_cmn(a,j,k,l,b,i){return safe_add(bit_rol(safe_add(safe_add(j,a),safe_add(l,i)),b),k)}function md5_ff(l,m,a,b,n,c,d){return md5_cmn((m&a)|((~m)&b),l,m,n,c,d)}function md5_gg(l,m,a,b,n,c,d){return md5_cmn((m&b)|(a&(~b)),l,m,n,c,d)}function md5_hh(l,m,a,b,n,c,d){return md5_cmn(m^a^b,l,m,n,c,d)}function md5_ii(l,m,a,b,n,c,d){return md5_cmn(a^(m|(~b)),l,m,n,c,d)}function safe_add(f,g){var h=(f&65535)+(g&65535);var e=(f>>16)+(g>>16)+(h>>16);return(e<<16)|(h&65535)}function bit_rol(d,c){return(d<<c)|(d>>>(32-c))}function recordUserLog(e,a,d,c,b){$.ajax({type:"get",async:false,url:domain_url+"userlog",dataType:"jsonp",jsonp:"callback",jsonpCallback:"callbackDataHandler",data:{openId:e,operateDesc:encodeURIComponent(a),operateDomId:d,loadingTime:c,from:gefrom,flag:b}})}function recordUserOperate(c,a,b){recordUserLog(c,a,b,"","false")}function recordUserPage(c,a,b){recordUserLog(c,a,"",b,"true")}$(function(){recordUserPage(openid,$("title").html(),"");$("body").delegate("*[data-collect='true']","click",function(a){if($(this).attr("data-stoppropagation")=="true"){a.stopPropagation()}recordUserOperate(openid,$(this).attr("data-collect-desc"),$(this).attr("data-collect-flag"))})});(function(c){var d={version:3.5};c.WeixinApi=d;if(typeof define==="function"&&(define.amd||define.cmd)){if(define.amd){define(function(){return d})}else{if(define.cmd){define(function(f,e,g){g.exports=d})}}}var b=function(){var f={},j,g;for(var h=0,e=arguments.length;h<e;h++){j=arguments[h];if(typeof j==="object"){for(g in j){j[g]&&(f[g]=j[g])}}}return f};var a=function(i,h,g){g=g||{};var e=function(j){switch(true){case /\:cancel$/i.test(j.err_msg):g.cancel&&g.cancel(j);break;case /\:(confirm|ok)$/i.test(j.err_msg):g.confirm&&g.confirm(j);break;case /\:fail$/i.test(j.err_msg):default:g.fail&&g.fail(j);break}g.all&&g.all(j)};var f=function(k,j){if(i.menu=="menu:share:timeline"||(i.menu=="menu:general:share"&&j.shareTo=="timeline")){var l=/android/i.test(navigator.userAgent);if(!l){var m=k.title;k.title=k.desc||m;k.desc=m||k.desc}}if(i.menu==="menu:general:share"){if(j.shareTo=="favorite"||j.scene=="favorite"){if(g.favorite===false){return j.generalShare(k,function(){})}}j.generalShare(k,e)}else{WeixinJSBridge.invoke(i.action,k,e)}};WeixinJSBridge.on(i.menu,function(k){g.dataLoaded=g.dataLoaded||new Function();if(g.async&&g.ready){d._wx_loadedCb_=g.dataLoaded;if(d._wx_loadedCb_.toString().indexOf("_wx_loadedCb_")>0){d._wx_loadedCb_=new Function()}g.dataLoaded=function(m){g.__cbkCalled=true;var l=b(h,m);l.img_url=l.imgUrl||l.img_url;delete l.imgUrl;d._wx_loadedCb_(l);f(l,k)};if(!(k&&(k.shareTo=="favorite"||k.scene=="favorite")&&g.favorite===false)){g.ready&&g.ready(k,h);if(!g.__cbkCalled){g.dataLoaded({});g.__cbkCalled=false}}}else{var j=b(h);if(!(k&&(k.shareTo=="favorite"||k.scene=="favorite")&&g.favorite===false)){g.ready&&g.ready(k,j)}f(j,k)}})};d.shareToTimeline=function(f,e){a({menu:"menu:share:timeline",action:"shareTimeline"},{appid:f.appId?f.appId:"",img_url:f.imgUrl,link:f.link,desc:f.desc,title:f.title,img_width:"640",img_height:"640"},e)};d.shareToFriend=function(f,e){a({menu:"menu:share:appmessage",action:"sendAppMessage"},{appid:f.appId?f.appId:"",img_url:f.imgUrl,link:f.link,desc:f.desc,title:f.title,img_width:"640",img_height:"640"},e)};d.generalShare=function(f,e){a({menu:"menu:general:share"},{appid:f.appId?f.appId:"",img_url:f.imgUrl,link:f.link,desc:f.desc,title:f.title,img_width:"640",img_height:"640"},e)};d.showOptionMenu=function(){WeixinJSBridge.call("showOptionMenu")};d.hideOptionMenu=function(){WeixinJSBridge.call("hideOptionMenu")};d.showToolbar=function(){WeixinJSBridge.call("showToolbar")};d.hideToolbar=function(){WeixinJSBridge.call("hideToolbar")};d.ready=function(g){if(g&&typeof g=="function"){var e=this;var f=function(){g(e)};if(typeof c.WeixinJSBridge=="undefined"){if(document.addEventListener){document.addEventListener("WeixinJSBridgeReady",f,false)}else{if(document.attachEvent){document.attachEvent("WeixinJSBridgeReady",f);document.attachEvent("onWeixinJSBridgeReady",f)}}}else{f()}}};d.openInWeixin=function(){return/MicroMessenger/i.test(navigator.userAgent)};d.enableDebugMode=function(e){c.onerror=function(i,g,f,h){if(typeof e==="function"){e({message:i,script:g,line:f,column:h})}else{var j=[];j.push("额，代码有错。。。");j.push("\n错误信息：",i);j.push("\n出错文件：",g);j.push("\n出错位置：",f+"行，"+h+"列");alert(j.join(""))}}}})(window);var callbackUserSaveHandler=function(a){};var resourceType="1";var COMMON_SYSTEM_ERROR_TIP="系统繁忙，请稍候再试！";var getQueryString=function(d){var f=decodeURIComponent(location.search.slice(1));if(f!=""){var c=f.split("&");for(var e=0,a=c.length,b;e<a;e++){b=c[e].split("=");if(b[0]===d){return b[1]}}return""}return""};var from=getQueryString("from");var gefrom=getQueryString("gefrom");if(from!=null&&from!=""){gefrom=from}var noRunShare=$("#noRunShare").val();if(!noRunShare){if(from!=null&&from!=""&&window.location.pathname.indexOf("index.html")<0){}}function toUrl(a){if(from!=null&&from!=""){if(a.indexOf(".html?")>0){a=a+"&gefrom="+from}else{a=a+"?gefrom="+from}}if(gefrom!=null&&gefrom!=""){if(a.indexOf("gefrom=")<0){if(a.indexOf(".html?")>0){a=a+"&gefrom="+gefrom}else{a=a+"?gefrom="+gefrom}}}setTimeout("window.location.href='"+a+"'",5)}$(function(){$("script").each(function(a,b){var c=$(this).attr("src");$(this).attr("src",c+"?v="+version)});$("link").each(function(b,c){var a=$(this).attr("href");$(this).attr("href",a+"?v="+version)});$.ajax({type:"get",async:false,url:domain_url+"version/check",dataType:"jsonp",jsonp:"callback",jsonpCallback:"callbackVersionHandler",success:function(a){if(!a.result&&window.location.pathname.indexOf("index.html")>0){location.href=a.redirect}},error:function(){}})});var getResult=function(b,e,f,c,a){if(c){showLoading(a)}$.ajax({type:"GET",async:false,url:domain_url+b,data:e,dataType:"jsonp",jsonp:f,complete:function(){if(c){hideLoading(a)}},success:function(g){}})};var simpleTpl=function(a){a=$.isArray(a)?a.join(""):(a||"");return{store:a,_:function(){var b=this;$.each(arguments,function(c,d){b.store+=d});return this},toString:function(){return this.store}}};var normalDate=function(b,l,i){var b=Number(b),d=new Date(b),m,l=l?l:"yyyy-mm-dd hh:ii:ss",i=(i===undefined)?true:i,a=function(n){return n<10?"0"+n:n},h=i?a:function(n){return n};var j=h(d.getFullYear()),g=h(d.getMonth()+1),k=h(d.getDate()),f=h(d.getHours()),e=h(d.getMinutes()),c=h(d.getSeconds());m=l.replace(/yyyy/i,j).replace(/mm/i,g).replace(/dd/i,k).replace(/hh/i,f).replace(/ii/i,e).replace(/ss/i,c);return m};var share=function(a){var c=simpleTpl(),b=$("#share_box");if(b.length==0){c._('<div class="share_box" id="share_box"></div>');b=$(c.toString());b.click(function(d){$(this).hide()});$("body").append(b)}else{b.show()}};var str2date=function(a){a=a.replace(/-/g,"/");return new Date(a)};var timestamp=function(a){return Date.parse(str2date(a))};var dateformat=function(date,format){var z={M:date.getMonth()+1,d:date.getDate(),h:date.getHours(),m:date.getMinutes(),s:date.getSeconds()};format=format.replace(/(M+|d+|h+|m+|s+)/g,function(v){return((v.length>1?"0":"")+eval("z."+v.slice(-1))).slice(-2)});return format.replace(/(y+)/g,function(v){return date.getFullYear().toString().slice(-v.length)})};var showLoading=function(f){var c=simpleTpl(),f=f||$("body"),e=f?f.find(".spinner"):$("body").children(".spinner");if(e.length>0){e.show()}else{c._('<div class="spinner">')._('<div class="spinner-wrapper">')._('<div class="spinner-container container1">')._('<div class="circle1"></div>')._('<div class="circle2"></div>')._('<div class="circle3"></div>')._('<div class="circle4"></div>')._("</div>")._('<div class="spinner-container container2">')._('<div class="circle1"></div>')._('<div class="circle2"></div>')._('<div class="circle3"></div>')._('<div class="circle4"></div>')._("</div>")._('<div class="spinner-container container3">')._('<div class="circle1"></div>')._('<div class="circle2"></div>')._('<div class="circle3"></div>')._('<div class="circle4"></div>')._("</div>")._("</div>")._("</div>");var d=$(window).width(),a=$(window).height(),b=50;e=$(c.toString()).css({left:(d-b)/2,top:(a-b)/2});f.append(e)}};var hideLoading=function(a){if(a){a.find(".spinner").hide()}else{$("body").children(".spinner").hide()}$(".copyright").removeClass("hidden")};(function(a){a.fn.progress=function(d){var i={eAttr:"data-etime",sAttr:"data-stime",wTime:3000,index:0,callback:null,stCallback:null,sdCallback:null,otCallback:null};var h=function(j){return j<10?"0"+j:j};var g=a.extend(i,d);var c=0;var f=a(this);var e=a(window).width();var b=function(){f.each(function(){var l=window.server_time;var m=a(this);var o=parseInt(m.attr(g.sAttr));var q=parseInt(m.attr(g.eAttr));var r=parseInt(m.attr(g.pAttr));var n=isNaN(o)?0:o-l;var k=isNaN(q)?0:q-l;var p=(isNaN(o)||isNaN(q))?0:q-o;var j=0;if(n>0){j=1;g.stCallback&&g.stCallback(j)}else{if(k>0){j=2;g.sdCallback&&g.sdCallback(j)}else{j=3;g.otCallback&&g.otCallback(j)}}m.closest(".page").attr("data-state",j);g.callback&&g.callback(j)})};b();c=setInterval(function(){b()},g.wTime)}})(Zepto);var imgReady=(function(){var d=[],c=null,b=function(){var e=0;for(;e<d.length;e++){d[e].end?d.splice(e--,1):d[e]()}!d.length&&a()},a=function(){clearInterval(c);c=null};return function(f,k,m,j){var l,g,n,i,e,h=new Image();h.src=f;if(h.complete){k.call(h);m&&m.call(h);return}g=h.width;n=h.height;h.onerror=function(){j&&j.call(h);l.end=true;h=h.onload=h.onerror=null};l=function(){i=h.width;e=h.height;if(i!==g||e!==n||i*e>1024){k.call(h);l.end=true}};l();h.onload=function(){!l.end&&l();m&&m.call(h);h=h.onload=h.onerror=null};if(!l.end){d.push(l);if(c===null){c=setInterval(b,40)}}}})();function add_param(e,h,c,b){if((e==null)||(e.length==0)){e=document.location.href}var a=e.split("?");var f="";if(a.length>1){var j=a[1].split("&");for(var d=0;(d<j.length);d++){var g=j[d].split("=");if(!(b&&g[0]==h)){if(f==""){f="?"}else{f+="&"}f+=g[0]+"="+g[1]}}}if(c!==null){if(f==""){f="?"}else{f+="&"}f+=h+"="+c}return a[0]+f}function add_yao_prefix(a){return"http://yao.qq.com/tv/entry?redirect_uri="+encodeURIComponent(a)}var is_android=function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("android")>-1};function __ns(fullNs){var nsArray=fullNs.split(".");var evalStr="";var ns="";for(var i=0,l=nsArray.length;i<l;i++){i!==0&&(ns+=".");ns+=nsArray[i];evalStr+="( typeof "+ns+' === "undefined" && ('+ns+" = {}) );"}evalStr!==""&&eval(evalStr)}var __noop=function(){};var W=W||window;__ns("H");WeixinApi.ready(function(a){var b={appId:"",imgUrl:share_img,link:share_url,desc:share_desc,title:share_title};var c={favorite:false,async:true,ready:function(){var f=$(".page.current"),g=f.attr("data-title"),e=f.attr("data-guid");share_title=g?("《"+g+"》这节目太幽默了，太有才了！"):"这节目太幽默了，太有才了！";var d=add_param(share_url,"resopenid",hex_md5(openid),true);if(e){d=d.replace("index.html","about.html");d=add_param(d,"guid",e,true)}d=add_yao_prefix(d);this.dataLoaded({title:share_title,link:d,desc:share_desc,imgUrl:share_img})},confirm:function(d){recordUserOperate(openid,"分享成功","share-success")}};a.shareToFriend(b,c);a.shareToTimeline(b,c);a.generalShare(b,c)});
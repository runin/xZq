var Zepto=(function(){var aP,aI,aw,a2,am=[],aM=am.slice,av=am.filter,aV=window.document,ap={},al={},ad={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},aE=/^\s*<(\w+|!)[^>]*>/,an=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,aS=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,ar=/^(?:body|html)$/i,aN=/([A-Z])/g,ax=["val","css","html","text","data","width","height","offset"],aD=["after","prepend","before","append"],aH=aV.createElement("table"),ak=aV.createElement("tr"),aU={tr:aV.createElement("tbody"),tbody:aH,thead:aH,tfoot:aH,td:ak,th:ak,"*":aV.createElement("div")},aG=/complete|loaded|interactive/,aR=/^[\w-]*$/,aY={},aW=aY.toString,aZ={},af,aj,at=aV.createElement("div"),ac={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},aA=Array.isArray||function(a){return a instanceof Array};aZ.matches=function(b,f){if(!f||!b||b.nodeType!==1){return false}var d=b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector||b.matchesSelector;if(d){return d.call(b,f)}var c,a=b.parentNode,e=!a;if(e){(a=at).appendChild(b)}c=~aZ.qsa(a,f).indexOf(b);e&&at.removeChild(b);return c};function aC(a){return a==null?String(a):aY[aW.call(a)]||"object"}function aL(a){return aC(a)=="function"}function ao(a){return a!=null&&a==a.window}function aF(a){return a!=null&&a.nodeType==a.DOCUMENT_NODE}function aq(a){return aC(a)=="object"}function ab(a){return aq(a)&&!ao(a)&&Object.getPrototypeOf(a)==Object.prototype}function az(a){return typeof a.length=="number"}function ae(a){return av.call(a,function(b){return b!=null})}function ay(a){return a.length>0?aw.fn.concat.apply([],a):a}af=function(a){return a.replace(/-+(.)?/g,function(c,b){return b?b.toUpperCase():""})};function aO(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}aj=function(a){return av.call(a,function(b,c){return a.indexOf(b)==c})};function ai(a){return a in al?al[a]:(al[a]=new RegExp("(^|\\s)"+a+"(\\s|$)"))}function aX(b,a){return(typeof a=="number"&&!ad[aO(b)])?a+"px":a}function ah(a){var c,b;if(!ap[a]){c=aV.createElement(a);aV.body.appendChild(c);b=getComputedStyle(c,"").getPropertyValue("display");c.parentNode.removeChild(c);b=="none"&&(b="block");ap[a]=b}return ap[a]}function aJ(a){return"children" in a?aM.call(a.children):aw.map(a.childNodes,function(b){if(b.nodeType==1){return b}})}aZ.fragment=function(b,d,c){var a,e,f;if(an.test(b)){a=aw(aV.createElement(RegExp.$1))}if(!a){if(b.replace){b=b.replace(aS,"<$1></$2>")}if(d===aP){d=aE.test(b)&&RegExp.$1}if(!(d in aU)){d="*"}f=aU[d];f.innerHTML=""+b;a=aw.each(aM.call(f.childNodes),function(){f.removeChild(this)})}if(ab(c)){e=aw(a);aw.each(c,function(h,g){if(ax.indexOf(h)>-1){e[h](g)}else{e.attr(h,g)}})}return a};aZ.Z=function(a,b){a=a||[];a.__proto__=aw.fn;a.selector=b||"";return a};aZ.isZ=function(a){return a instanceof aZ.Z};aZ.init=function(c,b){var a;if(!c){return aZ.Z()}else{if(typeof c=="string"){c=c.trim();if(c[0]=="<"&&aE.test(c)){a=aZ.fragment(c,RegExp.$1,b),c=null}else{if(b!==aP){return aw(b).find(c)}else{a=aZ.qsa(aV,c)}}}else{if(aL(c)){return aw(aV).ready(c)}else{if(aZ.isZ(c)){return c}else{if(aA(c)){a=ae(c)}else{if(aq(c)){a=[c],c=null}else{if(aE.test(c)){a=aZ.fragment(c.trim(),RegExp.$1,b),c=null}else{if(b!==aP){return aw(b).find(c)}else{a=aZ.qsa(aV,c)}}}}}}}}return aZ.Z(a,c)};aw=function(b,a){return aZ.init(b,a)};function aQ(a,b,c){for(aI in b){if(c&&(ab(b[aI])||aA(b[aI]))){if(ab(b[aI])&&!ab(a[aI])){a[aI]={}}if(aA(b[aI])&&!aA(a[aI])){a[aI]=[]}aQ(a[aI],b[aI],c)}else{if(b[aI]!==aP){a[aI]=b[aI]}}}}aw.extend=function(a){var c,b=aM.call(arguments,1);if(typeof a=="boolean"){c=a;a=b.shift()}b.forEach(function(d){aQ(a,d,c)});return a};aZ.qsa=function(e,g){var b,a=g[0]=="#",f=!a&&g[0]==".",d=a||f?g.slice(1):g,c=aR.test(d);return(aF(e)&&c&&a)?((b=e.getElementById(d))?[b]:[]):(e.nodeType!==1&&e.nodeType!==9)?[]:aM.call(c&&!a?f?e.getElementsByClassName(d):e.getElementsByTagName(g):e.querySelectorAll(g))};function aB(a,b){return b==null?aw(a):aw(a).filter(b)}aw.contains=aV.documentElement.contains?function(b,a){return b!==a&&b.contains(a)}:function(b,a){while(a&&(a=a.parentNode)){if(a===b){return true}}return false};function aK(b,c,d,a){return aL(c)?c.call(b,d,a):c}function a1(b,c,a){a==null?b.removeAttribute(c):b.setAttribute(c,a)}function ag(b,a){var d=b.className,c=d&&d.baseVal!==aP;if(a===aP){return c?d.baseVal:d}c?(d.baseVal=a):(b.className=a)}function aT(b){var c;try{return b?b=="true"||(b=="false"?false:b=="null"?null:!/^0/.test(b)&&!isNaN(c=Number(b))?c:/^[\[\{]/.test(b)?aw.parseJSON(b):b):b}catch(a){return b}}aw.type=aC;aw.isFunction=aL;aw.isWindow=ao;aw.isArray=aA;aw.isPlainObject=ab;aw.isEmptyObject=function(a){var b;for(b in a){return false}return true};aw.inArray=function(b,a,c){return am.indexOf.call(a,b,c)};aw.camelCase=af;aw.trim=function(a){return a==null?"":String.prototype.trim.call(a)};aw.uuid=0;aw.support={};aw.expr={};aw.map=function(b,a){var c,f=[],d,e;if(az(b)){for(d=0;d<b.length;d++){c=a(b[d],d);if(c!=null){f.push(c)}}}else{for(e in b){c=a(b[e],e);if(c!=null){f.push(c)}}}return ay(f)};aw.each=function(b,a){var c,d;if(az(b)){for(c=0;c<b.length;c++){if(a.call(b[c],c,b[c])===false){return b}}}else{for(d in b){if(a.call(b[d],d,b[d])===false){return b}}}return b};aw.grep=function(b,a){return av.call(b,a)};if(window.JSON){aw.parseJSON=JSON.parse}aw.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){aY["[object "+b+"]"]=b.toLowerCase()});aw.fn={forEach:am.forEach,reduce:am.reduce,push:am.push,sort:am.sort,indexOf:am.indexOf,concat:am.concat,map:function(a){return aw(aw.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return aw(aM.apply(this,arguments))},ready:function(a){if(aG.test(aV.readyState)&&aV.body){a(aw)}else{aV.addEventListener("DOMContentLoaded",function(){a(aw)},false)}return this},get:function(a){return a===aP?aM.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null){this.parentNode.removeChild(this)}})},each:function(a){am.every.call(this,function(b,c){return a.call(b,c,b)!==false});return this},filter:function(a){if(aL(a)){return this.not(this.not(a))}return aw(av.call(this,function(b){return aZ.matches(b,a)}))},add:function(b,a){return aw(aj(this.concat(aw(b,a))))},is:function(a){return this.length>0&&aZ.matches(this[0],a)},not:function(c){var b=[];if(aL(c)&&c.call!==aP){this.each(function(d){if(!c.call(this,d)){b.push(this)}})}else{var a=typeof c=="string"?this.filter(c):(az(c)&&aL(c.item))?aM.call(c):aw(c);this.forEach(function(d){if(a.indexOf(d)<0){b.push(d)}})}return aw(b)},has:function(a){return this.filter(function(){return aq(a)?aw.contains(this,a):aw(this).find(a).size()})},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!aq(a)?a:aw(a)},last:function(){var a=this[this.length-1];return a&&!aq(a)?a:aw(a)},find:function(b){var c,a=this;if(!b){c=[]}else{if(typeof b=="object"){c=aw(b).filter(function(){var d=this;return am.some.call(a,function(e){return aw.contains(e,d)})})}else{if(this.length==1){c=aw(aZ.qsa(this[0],b))}else{c=this.map(function(){return aZ.qsa(this,b)})}}}return c},closest:function(d,c){var b=this[0],a=false;if(typeof d=="object"){a=aw(d)}while(b&&!(a?a.indexOf(b)>=0:aZ.matches(b,d))){b=b!==c&&!aF(b)&&b.parentNode}return aw(b)},parents:function(c){var a=[],b=this;while(b.length>0){b=aw.map(b,function(d){if((d=d.parentNode)&&!aF(d)&&a.indexOf(d)<0){a.push(d);return d}})}return aB(a,c)},parent:function(a){return aB(aj(this.pluck("parentNode")),a)},children:function(a){return aB(this.map(function(){return aJ(this)}),a)},contents:function(){return this.map(function(){return aM.call(this.childNodes)})},siblings:function(a){return aB(this.map(function(c,b){return av.call(aJ(b.parentNode),function(d){return d!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return aw.map(this,function(b){return b[a]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")=="none"){this.style.display=ah(this.nodeName)}})},replaceWith:function(a){return this.before(a).remove()},wrap:function(d){var c=aL(d);if(this[0]&&!c){var b=aw(d).get(0),a=b.parentNode||this.length>1}return this.each(function(e){aw(this).wrapAll(c?d.call(this,e):a?b.cloneNode(true):b)})},wrapAll:function(b){if(this[0]){aw(this[0]).before(b=aw(b));var a;while((a=b.children()).length){b=a.first()}aw(b).append(this)}return this},wrapInner:function(b){var a=aL(b);return this.each(function(e){var f=aw(this),d=f.contents(),c=a?b.call(this,e):b;d.length?d.wrapAll(c):f.append(c)})},unwrap:function(){this.parent().each(function(){aw(this).replaceWith(aw(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(true)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=aw(this);(a===aP?b.css("display")=="none":a)?b.show():b.hide()})},prev:function(a){return aw(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return aw(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(c){var b=this.innerHTML;aw(this).empty().append(aK(this,a,c,b))}):(0 in this?this[0].innerHTML:null)},text:function(a){return 0 in arguments?this.each(function(c){var b=aK(this,a,c,this.textContent);this.textContent=b==null?"":""+b}):(0 in this?this[0].textContent:null)},attr:function(b,a){var c;return(typeof b=="string"&&!(1 in arguments))?(!this.length||this[0].nodeType!==1?aP:(!(c=this[0].getAttribute(b))&&b in this[0])?this[0][b]:c):this.each(function(d){if(this.nodeType!==1){return}if(aq(b)){for(aI in b){a1(this,aI,b[aI])}}else{a1(this,b,aK(this,a,d,this.getAttribute(b)))}})},removeAttr:function(a){return this.each(function(){this.nodeType===1&&a1(this,a)})},prop:function(b,a){b=ac[b]||b;return(1 in arguments)?this.each(function(c){this[b]=aK(this,a,c,this[b])}):(this[0]&&this[0][b])},data:function(d,a){var c="data-"+d.replace(aN,"-$1").toLowerCase();var b=(1 in arguments)?this.attr(c,a):this.attr(c);return b!==null?aT(b):aP},val:function(a){return 0 in arguments?this.each(function(b){this.value=aK(this,a,b,this.value)}):(this[0]&&(this[0].multiple?aw(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value))},offset:function(a){if(a){return this.each(function(f){var c=aw(this),d=aK(this,a,f,c.offset()),g=c.offsetParent().offset(),e={top:d.top-g.top,left:d.left-g.left};if(c.css("position")=="static"){e.position="relative"}c.css(e)})}if(!this.length){return null}var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(a,b){if(arguments.length<2){var d=this[0],f=getComputedStyle(d,"");if(!d){return}if(typeof a=="string"){return d.style[af(a)]||f.getPropertyValue(a)}else{if(aA(a)){var c={};aw.each(aA(a)?a:[a],function(h,g){c[g]=(d.style[af(g)]||f.getPropertyValue(g))});return c}}}var e="";if(aC(a)=="string"){if(!b&&b!==0){this.each(function(){this.style.removeProperty(aO(a))})}else{e=aO(a)+":"+aX(a,b)}}else{for(aI in a){if(!a[aI]&&a[aI]!==0){this.each(function(){this.style.removeProperty(aO(aI))})}else{e+=aO(aI)+":"+aX(aI,a[aI])+";"}}}return this.each(function(){this.style.cssText+=";"+e})},index:function(a){return a?this.indexOf(aw(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){if(!a){return false}return am.some.call(this,function(b){return this.test(ag(b))},ai(a))},addClass:function(a){if(!a){return this}return this.each(function(d){a2=[];var b=ag(this),c=aK(this,a,d,b);c.split(/\s+/g).forEach(function(e){if(!aw(this).hasClass(e)){a2.push(e)}},this);a2.length&&ag(this,b+(b?" ":"")+a2.join(" "))})},removeClass:function(a){return this.each(function(b){if(a===aP){return ag(this,"")}a2=ag(this);aK(this,a,b,a2).split(/\s+/g).forEach(function(c){a2=a2.replace(ai(c)," ")});ag(this,a2.trim())})},toggleClass:function(a,b){if(!a){return this}return this.each(function(e){var c=aw(this),d=aK(this,a,e,ag(this));d.split(/\s+/g).forEach(function(f){(b===aP?!c.hasClass(f):b)?c.addClass(f):c.removeClass(f)})})},scrollTop:function(a){if(!this.length){return}var b="scrollTop" in this[0];if(a===aP){return b?this[0].scrollTop:this[0].pageYOffset}return this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})},scrollLeft:function(a){if(!this.length){return}var b="scrollLeft" in this[0];if(a===aP){return b?this[0].scrollLeft:this[0].pageXOffset}return this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})},position:function(){if(!this.length){return}var b=this[0],c=this.offsetParent(),a=this.offset(),d=ar.test(c[0].nodeName)?{top:0,left:0}:c.offset();a.top-=parseFloat(aw(b).css("margin-top"))||0;a.left-=parseFloat(aw(b).css("margin-left"))||0;d.top+=parseFloat(aw(c[0]).css("border-top-width"))||0;d.left+=parseFloat(aw(c[0]).css("border-left-width"))||0;return{top:a.top-d.top,left:a.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||aV.body;while(a&&!ar.test(a.nodeName)&&aw(a).css("position")=="static"){a=a.offsetParent}return a})}};aw.fn.detach=aw.fn.remove;["width","height"].forEach(function(a){var b=a.replace(/./,function(c){return c[0].toUpperCase()});aw.fn[a]=function(d){var c,e=this[0];if(d===aP){if(ao(e)){return au(b)}else{return aF(e)?e.documentElement["scroll"+b]:(c=this.offset())&&c[a]}}else{return this.each(function(f){e=aw(this);e.css(a,aK(this,d,f,e[a]()))})}}});var au=function(e){var c;var d=e.toLowerCase();var f=window.document;var a=f.documentElement;if(window["inner"+e]===aP){c=a["client"+e]}else{if(window["inner"+e]!=a["client"+e]){var b=f.createElement("body");b.id="vpw-test-b";b.style.cssText="overflow:scroll";var g=f.createElement("div");g.id="vpw-test-d";g.style.cssText="position:absolute;top:-1000px";g.innerHTML="<style>@media("+d+":"+a["client"+e]+"px){body#vpw-test-b div#vpw-test-d{"+d+":7px!important}}</style>";b.appendChild(g);a.insertBefore(b,f.head);if(g["offset"+e]==7){c=a["client"+e]}else{c=window["inner"+e]}a.removeChild(b)}else{c=window["inner"+e]}}return c};function a0(a,c){c(a);for(var b=0,d=a.childNodes.length;b<d;b++){a0(a.childNodes[b],c)}}aD.forEach(function(a,b){var c=b%2;aw.fn[a]=function(){var g,f=aw.map(arguments,function(h){g=aC(h);return g=="object"||g=="array"||h==null?h:aZ.fragment(h)}),e,d=this.length>1;if(f.length<1){return this}return this.each(function(j,i){e=c?i:i.parentNode;i=b==0?i.nextSibling:b==1?i.firstChild:b==2?i:null;var h=aw.contains(aV.documentElement,e);f.forEach(function(k){if(d){k=k.cloneNode(true)}else{if(!e){return aw(k).remove()}}e.insertBefore(k,i);if(h){a0(k,function(l){if(l.nodeName!=null&&l.nodeName.toUpperCase()==="SCRIPT"&&(!l.type||l.type==="text/javascript")&&!l.src){window["eval"].call(window,l.innerHTML)}})}})})};aw.fn[c?a+"To":"insert"+(b?"Before":"After")]=function(d){aw(d)[a](this);return this}});aZ.Z.prototype=aw.fn;aZ.uniq=aj;aZ.deserializeValue=aT;aw.zepto=aZ;return aw})();window.Zepto=Zepto;window.$===undefined&&(window.$=Zepto);(function(V){var T=1,R,F=Array.prototype.slice,Z=V.isFunction,O=function(a){return typeof a=="string"},G={},K={},S="onfocusin" in window,J={focus:"focusin",blur:"focusout"},B={mouseenter:"mouseover",mouseleave:"mouseout"};K.click=K.mousedown=K.mouseup=K.mousemove="MouseEvents";function Y(a){return a._zid||(a._zid=T++)}function N(a,d,e,c){d=I(d);if(d.ns){var b=C(d.ns)}return(G[Y(a)]||[]).filter(function(f){return f&&(!d.e||f.e==d.e)&&(!d.ns||b.test(f.ns))&&(!e||Y(f.fn)===Y(e))&&(!c||f.sel==c)})}function I(b){var a=(""+b).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function C(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function P(b,a){return b.del&&(!S&&(b.e in J))||!!a}function D(a){return B[a]||(S&&J[a])||a}function L(b,g,a,c,d,f,h){var e=Y(b),i=(G[e]||(G[e]=[]));g.split(/\s/).forEach(function(k){if(k=="ready"){return V(document).ready(a)}var l=I(k);l.fn=a;l.sel=d;if(l.e in B){a=function(o){var m=o.relatedTarget;if(!m||(m!==this&&!V.contains(this,m))){return l.fn.apply(this,arguments)}}}l.del=f;var j=f||a;l.proxy=function(o){o=A(o);if(o.isImmediatePropagationStopped()){return}o.data=c;var m=j.apply(b,o._args==R?[o]:[o].concat(o._args));if(m===false){o.preventDefault(),o.stopPropagation()}return m};l.i=i.length;i.push(l);if("addEventListener" in b){b.addEventListener(D(l.e),l.proxy,P(l,h))}})}function z(e,f,c,d,a){var b=Y(e);(f||"").split(/\s/).forEach(function(g){N(e,g,c,d).forEach(function(h){delete G[b][h.i];if("removeEventListener" in e){e.removeEventListener(D(h.e),h.proxy,P(h,a))}})})}V.event={add:L,remove:z};V.proxy=function(c,d){var a=(2 in arguments)&&F.call(arguments,2);if(Z(c)){var b=function(){return c.apply(d,a?a.concat(F.call(arguments)):arguments)};b._zid=Y(c);return b}else{if(O(d)){if(a){a.unshift(c[d],c);return V.proxy.apply(null,a)}else{return V.proxy(c[d],c)}}else{throw new TypeError("expected function")}}};V.fn.bind=function(b,a,c){return this.on(b,a,c)};V.fn.unbind=function(b,a){return this.off(b,a)};V.fn.one=function(a,c,d,b){return this.on(a,c,d,b,1)};var E=function(){return true},Q=function(){return false},U=/^([A-Z]|returnValue$|layer[XY]$)/,M={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function A(b,a){if(a||!b.isDefaultPrevented){a||(a=b);V.each(M,function(d,e){var c=a[d];b[d]=function(){this[e]=E;return c&&c.apply(a,arguments)};b[e]=Q});if(a.defaultPrevented!==R?a.defaultPrevented:"returnValue" in a?a.returnValue===false:a.getPreventDefault&&a.getPreventDefault()){b.isDefaultPrevented=E}}return b}function X(c){var a,b={originalEvent:c};for(a in c){if(!U.test(a)&&c[a]!==R){b[a]=c[a]}}return A(b,c)}V.fn.delegate=function(b,a,c){return this.on(a,b,c)};V.fn.undelegate=function(b,a,c){return this.off(a,b,c)};V.fn.live=function(b,a){V(document.body).delegate(this.selector,b,a);return this};V.fn.die=function(b,a){V(document.body).undelegate(this.selector,b,a);return this};V.fn.on=function(e,g,d,b,f){var h,a,c=this;if(e&&!O(e)){V.each(e,function(i,j){c.on(i,g,d,j,f)});return c}if(!O(g)&&!Z(b)&&b!==false){b=d,d=g,g=R}if(Z(d)||d===false){b=d,d=R}if(b===false){b=Q}return c.each(function(j,i){if(f){h=function(k){z(i,k.type,b);return b.apply(this,arguments)}}if(g){a=function(k){var m,l=V(k.target).closest(g,i).get(0);if(l&&l!==i){m=V.extend(X(k),{currentTarget:l,liveFired:i});return(h||b).apply(l,[m].concat(F.call(arguments,1)))}}}L(i,e,b,d,g,a||h)})};V.fn.off=function(a,c,b){var d=this;if(a&&!O(a)){V.each(a,function(e,f){d.off(e,c,f)});return d}if(!O(c)&&!Z(b)&&b!==false){b=c,c=R}if(b===false){b=Q}return d.each(function(){z(this,a,b,c)})};V.fn.trigger=function(a,b){a=(O(a)||V.isPlainObject(a))?V.Event(a):A(a);a._args=b;return this.each(function(){if("dispatchEvent" in this){this.dispatchEvent(a)}else{V(this).triggerHandler(a,b)}})};V.fn.triggerHandler=function(d,a){var c,b;this.each(function(e,f){c=X(O(d)?V.Event(d):d);c._args=a;c.target=f;V.each(N(f,d.type||d),function(h,g){b=g.proxy(c);if(c.isImmediatePropagationStopped()){return false}})});return b};("focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error").split(" ").forEach(function(a){V.fn[a]=function(b){return b?this.bind(a,b):this.trigger(a)}});["focus","blur"].forEach(function(a){V.fn[a]=function(b){if(b){this.bind(a,b)}else{this.each(function(){try{this[a]()}catch(c){}})}return this}});V.Event=function(d,e){if(!O(d)){e=d,d=e.type}var b=document.createEvent(K[d]||"Events"),c=true;if(e){for(var a in e){(a=="bubbles")?(c=!!e[a]):(b[a]=e[a])}}b.initEvent(d,c,true);return A(b)}})(Zepto);(function($){var jsonpID=0,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;function triggerAndReturn(context,eventName,data){var event=$.Event(eventName);$(context).trigger(event,data);return !event.isDefaultPrevented()}function triggerGlobal(settings,context,eventName,data){if(settings.global){return triggerAndReturn(context||document,eventName,data)}}$.active=0;function ajaxStart(settings){if(settings.global&&$.active++===0){triggerGlobal(settings,null,"ajaxStart")}}function ajaxStop(settings){if(settings.global&&!(--$.active)){triggerGlobal(settings,null,"ajaxStop")}}function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false||triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])===false){return false}triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings,deferred){var context=settings.context,status="success";settings.success.call(context,data,status,xhr);if(deferred){deferred.resolveWith(context,[data,status,xhr])}triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]);ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings,deferred){var context=settings.context;settings.error.call(context,xhr,type,error);if(deferred){deferred.rejectWith(context,[xhr,type,error])}triggerGlobal(settings,context,"ajaxError",[xhr,settings,error||type]);ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status);triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]);ajaxStop(settings)}function empty(){}$.ajaxJSONP=function(options,deferred){if(!("type" in options)){return $.ajax(options)}var _callbackName=options.jsonpCallback,callbackName=($.isFunction(_callbackName)?_callbackName():_callbackName)||("jsonp"+(++jsonpID)),script=document.createElement("script"),originalCallback=window[callbackName],responseData,abort=function(errorType){$(script).triggerHandler("error",errorType||"abort")},xhr={abort:abort},abortTimeout;if(deferred){deferred.promise(xhr)}$(script).on("load error",function(e,errorType){clearTimeout(abortTimeout);$(script).off().remove();if(e.type=="error"||!responseData){ajaxError(null,errorType||"error",xhr,options,deferred)}else{ajaxSuccess(responseData[0],xhr,options,deferred)}window[callbackName]=originalCallback;if(responseData&&$.isFunction(originalCallback)){originalCallback(responseData[0])}originalCallback=responseData=undefined});if(ajaxBeforeSend(xhr,options)===false){abort("abort");return xhr}window[callbackName]=function(){responseData=arguments};script.src=options.url.replace(/\?(.+)=\?/,"?$1="+callbackName);document.head.appendChild(script);if(options.timeout>0){abortTimeout=setTimeout(function(){abort("timeout")},options.timeout)}return xhr};$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:true,xhr:function(){return new window.XMLHttpRequest()},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:false,timeout:0,processData:true,cache:true};function mimeToDataType(mime){if(mime){mime=mime.split(";",2)[0]}return mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){if(query==""){return url}return(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){if(options.processData&&options.data&&$.type(options.data)!="string"){options.data=$.param(options.data,options.traditional)}if(options.data&&(!options.type||options.type.toUpperCase()=="GET")){options.url=appendQuery(options.url,options.data),options.data=undefined}}$.ajax=function(options){var settings=$.extend({},options||{}),deferred=$.Deferred&&$.Deferred();for(key in $.ajaxSettings){if(settings[key]===undefined){settings[key]=$.ajaxSettings[key]}}ajaxStart(settings);if(!settings.crossDomain){settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host}if(!settings.url){settings.url=window.location.toString()}serializeData(settings);var dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url);if(hasPlaceholder){dataType="jsonp"}if(settings.cache===false||((!options||options.cache!==true)&&("script"==dataType||"jsonp"==dataType))){settings.url=appendQuery(settings.url,"_="+Date.now())}if("jsonp"==dataType){if(!hasPlaceholder){settings.url=appendQuery(settings.url,settings.jsonp?(settings.jsonp+"=?"):settings.jsonp===false?"":"callback=?")}return $.ajaxJSONP(settings,deferred)}var mime=settings.accepts[dataType],headers={},setHeader=function(name,value){headers[name.toLowerCase()]=[name,value]},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),nativeSetHeader=xhr.setRequestHeader,abortTimeout;if(deferred){deferred.promise(xhr)}if(!settings.crossDomain){setHeader("X-Requested-With","XMLHttpRequest")}setHeader("Accept",mime||"*/*");if(mime=settings.mimeType||mime){if(mime.indexOf(",")>-1){mime=mime.split(",",2)[0]}xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||(settings.contentType!==false&&settings.data&&settings.type.toUpperCase()!="GET")){setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded")}if(settings.headers){for(name in settings.headers){setHeader(name,settings.headers[name])}}xhr.setRequestHeader=setHeader;xhr.onreadystatechange=function(){if(xhr.readyState==4){xhr.onreadystatechange=empty;clearTimeout(abortTimeout);var result,error=false;if((xhr.status>=200&&xhr.status<300)||xhr.status==304||(xhr.status==0&&protocol=="file:")){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type"));result=xhr.responseText;try{if(dataType=="script"){(1,eval)(result)}else{if(dataType=="xml"){result=xhr.responseXML}else{if(dataType=="json"){result=blankRE.test(result)?null:$.parseJSON(result)}}}}catch(e){error=e}if(error){ajaxError(error,"parsererror",xhr,settings,deferred)}else{ajaxSuccess(result,xhr,settings,deferred)}}else{ajaxError(xhr.statusText||null,xhr.status?"error":"abort",xhr,settings,deferred)}}};if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();ajaxError(null,"abort",xhr,settings,deferred);return xhr}if(settings.xhrFields){for(name in settings.xhrFields){xhr[name]=settings.xhrFields[name]}}var async="async" in settings?settings.async:true;xhr.open(settings.type,settings.url,async,settings.username,settings.password);for(name in headers){nativeSetHeader.apply(xhr,headers[name])}if(settings.timeout>0){abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,"timeout",xhr,settings,deferred)},settings.timeout)}xhr.send(settings.data?settings.data:null);return xhr};function parseArguments(url,data,success,dataType){if($.isFunction(data)){dataType=success,success=data,data=undefined}if(!$.isFunction(success)){dataType=success,success=undefined}return{url:url,data:data,success:success,dataType:dataType}}$.get=function(){return $.ajax(parseArguments.apply(null,arguments))};$.post=function(){var options=parseArguments.apply(null,arguments);options.type="POST";return $.ajax(options)};$.getJSON=function(){var options=parseArguments.apply(null,arguments);options.dataType="json";return $.ajax(options)};$.fn.load=function(url,data,success){if(!this.length){return this}var self=this,parts=url.split(/\s/),selector,options=parseArguments(url,data,success),callback=options.success;if(parts.length>1){options.url=parts[0],selector=parts[1]}options.success=function(response){self.html(selector?$("<div>").html(response.replace(rscript,"")).find(selector):response);callback&&callback.apply(self,arguments)};$.ajax(options);return this};var escape=encodeURIComponent;function serialize(params,obj,traditional,scope){var type,array=$.isArray(obj),hash=$.isPlainObject(obj);$.each(obj,function(key,value){type=$.type(value);if(scope){key=traditional?scope:scope+"["+(hash||type=="object"||type=="array"?key:"")+"]"}if(!scope&&array){params.add(value.name,value.value)}else{if(type=="array"||(!traditional&&type=="object")){serialize(params,value,traditional,key)}else{params.add(key,value)}}})}$.param=function(obj,traditional){var params=[];params.add=function(k,v){this.push(escape(k)+"="+escape(v))};serialize(params,obj,traditional);return params.join("&").replace(/%20/g,"+")}})(Zepto);(function(b){b.fn.serializeArray=function(){var a=[],d;b([].slice.call(this.get(0).elements)).each(function(){d=b(this);var c=d.attr("type");if(this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&c!="submit"&&c!="reset"&&c!="button"&&((c!="radio"&&c!="checkbox")||this.checked)){a.push({name:d.attr("name"),value:d.val()})}});return a};b.fn.serialize=function(){var a=[];this.serializeArray().forEach(function(d){a.push(encodeURIComponent(d.name)+"="+encodeURIComponent(d.value))});return a.join("&")};b.fn.submit=function(d){if(d){this.bind("submit",d)}else{if(this.length){var a=b.Event("submit");this.eq(0).trigger(a);if(!a.isDefaultPrevented()){this.get(0).submit()}}}return this}})(Zepto);(function(d){if(!("__proto__" in {})){d.extend(d.zepto,{Z:function(a,b){a=a||[];d.extend(a,d.fn);a.selector=b||"";a.__Z=true;return a},isZ:function(a){return d.type(a)==="array"&&"__Z" in a}})}try{getComputedStyle(undefined)}catch(f){var e=getComputedStyle;window.getComputedStyle=function(b){try{return e(b)}catch(a){return null}}}})(Zepto);(function(b){b.extend(b.fn,{cookie:function(a,o,m){var l,k,j,i;if(arguments.length>1&&String(o)!=="[object Object]"){m=b.extend({},m);if(o===null||o===undefined){m.expires=-1}return typeof m.expires=="number"&&(l=m.expires*24*60*60*1000,k=m.expires=new Date,k.setTime(k.getTime()+l)),o=String(o),document.cookie=[encodeURIComponent(a),"=",m.raw?o:encodeURIComponent(o),m.expires?"; expires="+m.expires.toUTCString():"",m.path?"; path="+m.path:"",m.domain?"; domain="+m.domain:"",m.secure?"; secure":""].join("")}return m=o||{},i=m.raw?function(c){return c}:decodeURIComponent,(j=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)")).exec(document.cookie))?i(j[1]):null}})})(Zepto);var hexcase=0;function hex_md5(b){return rstr2hex(rstr_md5(str2rstr_utf8(b)))}function hex_hmac_md5(d,c){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(d),str2rstr_utf8(c)))}function md5_vm_test(){return hex_md5("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"}function rstr_md5(b){return binl2rstr(binl_md5(rstr2binl(b),b.length*8))}function rstr_hmac_md5(o,k){var l=rstr2binl(o);if(l.length>16){l=binl_md5(l,o.length*8)}var i=Array(16),m=Array(16);for(var h=0;h<16;h++){i[h]=l[h]^909522486;m[h]=l[h]^1549556828}var j=binl_md5(i.concat(rstr2binl(k)),512+k.length*8);return binl2rstr(binl_md5(m.concat(j),512+128))}function rstr2hex(l){try{hexcase}catch(i){hexcase=0}var j=hexcase?"0123456789ABCDEF":"0123456789abcdef";var e="";var h;for(var k=0;k<l.length;k++){h=l.charCodeAt(k);e+=j.charAt((h>>>4)&15)+j.charAt(h&15)}return e}function str2rstr_utf8(j){var f="";var i=-1;var g,h;while(++i<j.length){g=j.charCodeAt(i);h=i+1<j.length?j.charCodeAt(i+1):0;if(55296<=g&&g<=56319&&56320<=h&&h<=57343){g=65536+((g&1023)<<10)+(h&1023);i++}if(g<=127){f+=String.fromCharCode(g)}else{if(g<=2047){f+=String.fromCharCode(192|((g>>>6)&31),128|(g&63))}else{if(g<=65535){f+=String.fromCharCode(224|((g>>>12)&15),128|((g>>>6)&63),128|(g&63))}else{if(g<=2097151){f+=String.fromCharCode(240|((g>>>18)&7),128|((g>>>12)&63),128|((g>>>6)&63),128|(g&63))}}}}}return f}function rstr2binl(d){var e=Array(d.length>>2);for(var f=0;f<e.length;f++){e[f]=0}for(var f=0;f<d.length*8;f+=8){e[f>>5]|=(d.charCodeAt(f/8)&255)<<(f%32)}return e}function binl2rstr(d){var e="";for(var f=0;f<d.length*32;f+=8){e+=String.fromCharCode((d[f>>5]>>>(f%32))&255)}return e}function binl_md5(a,q){a[q>>5]|=128<<((q)%32);a[(((q+64)>>>9)<<4)+14]=q;var b=1732584193;var c=-271733879;var d=-1732584194;var i=271733878;for(var t=0;t<a.length;t+=16){var r=b;var s=c;var u=d;var v=i;b=md5_ff(b,c,d,i,a[t+0],7,-680876936);i=md5_ff(i,b,c,d,a[t+1],12,-389564586);d=md5_ff(d,i,b,c,a[t+2],17,606105819);c=md5_ff(c,d,i,b,a[t+3],22,-1044525330);b=md5_ff(b,c,d,i,a[t+4],7,-176418897);i=md5_ff(i,b,c,d,a[t+5],12,1200080426);d=md5_ff(d,i,b,c,a[t+6],17,-1473231341);c=md5_ff(c,d,i,b,a[t+7],22,-45705983);b=md5_ff(b,c,d,i,a[t+8],7,1770035416);i=md5_ff(i,b,c,d,a[t+9],12,-1958414417);d=md5_ff(d,i,b,c,a[t+10],17,-42063);c=md5_ff(c,d,i,b,a[t+11],22,-1990404162);b=md5_ff(b,c,d,i,a[t+12],7,1804603682);i=md5_ff(i,b,c,d,a[t+13],12,-40341101);d=md5_ff(d,i,b,c,a[t+14],17,-1502002290);c=md5_ff(c,d,i,b,a[t+15],22,1236535329);b=md5_gg(b,c,d,i,a[t+1],5,-165796510);i=md5_gg(i,b,c,d,a[t+6],9,-1069501632);d=md5_gg(d,i,b,c,a[t+11],14,643717713);c=md5_gg(c,d,i,b,a[t+0],20,-373897302);b=md5_gg(b,c,d,i,a[t+5],5,-701558691);i=md5_gg(i,b,c,d,a[t+10],9,38016083);d=md5_gg(d,i,b,c,a[t+15],14,-660478335);c=md5_gg(c,d,i,b,a[t+4],20,-405537848);b=md5_gg(b,c,d,i,a[t+9],5,568446438);i=md5_gg(i,b,c,d,a[t+14],9,-1019803690);d=md5_gg(d,i,b,c,a[t+3],14,-187363961);c=md5_gg(c,d,i,b,a[t+8],20,1163531501);b=md5_gg(b,c,d,i,a[t+13],5,-1444681467);i=md5_gg(i,b,c,d,a[t+2],9,-51403784);d=md5_gg(d,i,b,c,a[t+7],14,1735328473);c=md5_gg(c,d,i,b,a[t+12],20,-1926607734);b=md5_hh(b,c,d,i,a[t+5],4,-378558);i=md5_hh(i,b,c,d,a[t+8],11,-2022574463);d=md5_hh(d,i,b,c,a[t+11],16,1839030562);c=md5_hh(c,d,i,b,a[t+14],23,-35309556);b=md5_hh(b,c,d,i,a[t+1],4,-1530992060);i=md5_hh(i,b,c,d,a[t+4],11,1272893353);d=md5_hh(d,i,b,c,a[t+7],16,-155497632);c=md5_hh(c,d,i,b,a[t+10],23,-1094730640);b=md5_hh(b,c,d,i,a[t+13],4,681279174);i=md5_hh(i,b,c,d,a[t+0],11,-358537222);d=md5_hh(d,i,b,c,a[t+3],16,-722521979);c=md5_hh(c,d,i,b,a[t+6],23,76029189);b=md5_hh(b,c,d,i,a[t+9],4,-640364487);i=md5_hh(i,b,c,d,a[t+12],11,-421815835);d=md5_hh(d,i,b,c,a[t+15],16,530742520);c=md5_hh(c,d,i,b,a[t+2],23,-995338651);b=md5_ii(b,c,d,i,a[t+0],6,-198630844);i=md5_ii(i,b,c,d,a[t+7],10,1126891415);d=md5_ii(d,i,b,c,a[t+14],15,-1416354905);c=md5_ii(c,d,i,b,a[t+5],21,-57434055);b=md5_ii(b,c,d,i,a[t+12],6,1700485571);i=md5_ii(i,b,c,d,a[t+3],10,-1894986606);d=md5_ii(d,i,b,c,a[t+10],15,-1051523);c=md5_ii(c,d,i,b,a[t+1],21,-2054922799);b=md5_ii(b,c,d,i,a[t+8],6,1873313359);i=md5_ii(i,b,c,d,a[t+15],10,-30611744);d=md5_ii(d,i,b,c,a[t+6],15,-1560198380);c=md5_ii(c,d,i,b,a[t+13],21,1309151649);b=md5_ii(b,c,d,i,a[t+4],6,-145523070);i=md5_ii(i,b,c,d,a[t+11],10,-1120210379);d=md5_ii(d,i,b,c,a[t+2],15,718787259);c=md5_ii(c,d,i,b,a[t+9],21,-343485551);b=safe_add(b,r);c=safe_add(c,s);d=safe_add(d,u);i=safe_add(i,v)}return Array(b,c,d,i)}function md5_cmn(a,j,k,l,b,i){return safe_add(bit_rol(safe_add(safe_add(j,a),safe_add(l,i)),b),k)}function md5_ff(l,m,a,b,o,c,d){return md5_cmn((m&a)|((~m)&b),l,m,o,c,d)}function md5_gg(l,m,a,b,o,c,d){return md5_cmn((m&b)|(a&(~b)),l,m,o,c,d)}function md5_hh(l,m,a,b,o,c,d){return md5_cmn(m^a^b,l,m,o,c,d)}function md5_ii(l,m,a,b,o,c,d){return md5_cmn(a^(m|(~b)),l,m,o,c,d)}function safe_add(f,g){var h=(f&65535)+(g&65535);var e=(f>>16)+(g>>16)+(h>>16);return(e<<16)|(h&65535)}function bit_rol(d,c){return(d<<c)|(d>>>(32-c))}function recordUserLog(e,a,d,c,b){$.ajax({type:"get",async:false,url:domain_url+"userlog",dataType:"jsonp",jsonp:"callback",jsonpCallback:"callbackDataHandler",data:{openId:e,operateDesc:encodeURIComponent(a),operateDomId:d,loadingTime:c,from:gefrom,flag:b}})}function recordUserOperate(c,a,b){recordUserLog(c,a,b,"","false")}function recordUserPage(c,a,b){recordUserLog(c,a,"",b,"true")}$(function(){recordUserPage(openid,$("title").html(),"");$("body").delegate("*[data-collect='true']","click",function(a){if($(this).attr("data-stoppropagation")=="true"){a.stopPropagation()}recordUserOperate(openid,$(this).attr("data-collect-desc"),$(this).attr("data-collect-flag"))})});(function(c){var d={version:3.5};c.WeixinApi=d;if(typeof define==="function"&&(define.amd||define.cmd)){if(define.amd){define(function(){return d})}else{if(define.cmd){define(function(f,e,g){g.exports=d})}}}var b=function(){var f={},j,g;for(var h=0,e=arguments.length;h<e;h++){j=arguments[h];if(typeof j==="object"){for(g in j){j[g]&&(f[g]=j[g])}}}return f};var a=function(i,h,g){g=g||{};var e=function(j){switch(true){case /\:cancel$/i.test(j.err_msg):g.cancel&&g.cancel(j);break;case /\:(confirm|ok)$/i.test(j.err_msg):g.confirm&&g.confirm(j);break;case /\:fail$/i.test(j.err_msg):default:g.fail&&g.fail(j);break}g.all&&g.all(j)};var f=function(k,j){if(i.menu=="menu:share:timeline"||(i.menu=="menu:general:share"&&j.shareTo=="timeline")){var l=/android/i.test(navigator.userAgent);if(!l){var m=k.title;k.title=k.desc||m;k.desc=m||k.desc}}if(i.menu==="menu:general:share"){if(j.shareTo=="favorite"||j.scene=="favorite"){if(g.favorite===false){return j.generalShare(k,function(){})}}j.generalShare(k,e)}else{WeixinJSBridge.invoke(i.action,k,e)}};WeixinJSBridge.on(i.menu,function(k){g.dataLoaded=g.dataLoaded||new Function();if(g.async&&g.ready){d._wx_loadedCb_=g.dataLoaded;if(d._wx_loadedCb_.toString().indexOf("_wx_loadedCb_")>0){d._wx_loadedCb_=new Function()}g.dataLoaded=function(m){g.__cbkCalled=true;var l=b(h,m);l.img_url=l.imgUrl||l.img_url;delete l.imgUrl;d._wx_loadedCb_(l);f(l,k)};if(!(k&&(k.shareTo=="favorite"||k.scene=="favorite")&&g.favorite===false)){g.ready&&g.ready(k,h);if(!g.__cbkCalled){g.dataLoaded({});g.__cbkCalled=false}}}else{var j=b(h);if(!(k&&(k.shareTo=="favorite"||k.scene=="favorite")&&g.favorite===false)){g.ready&&g.ready(k,j)}f(j,k)}})};d.shareToTimeline=function(f,e){a({menu:"menu:share:timeline",action:"shareTimeline"},{appid:f.appId?f.appId:"",img_url:f.imgUrl,link:f.link,desc:f.desc,title:f.title,img_width:"640",img_height:"640"},e)};d.shareToFriend=function(f,e){a({menu:"menu:share:appmessage",action:"sendAppMessage"},{appid:f.appId?f.appId:"",img_url:f.imgUrl,link:f.link,desc:f.desc,title:f.title,img_width:"640",img_height:"640"},e)};d.generalShare=function(f,e){a({menu:"menu:general:share"},{appid:f.appId?f.appId:"",img_url:f.imgUrl,link:f.link,desc:f.desc,title:f.title,img_width:"640",img_height:"640"},e)};d.showOptionMenu=function(){WeixinJSBridge.call("showOptionMenu")};d.hideOptionMenu=function(){WeixinJSBridge.call("hideOptionMenu")};d.showToolbar=function(){WeixinJSBridge.call("showToolbar")};d.hideToolbar=function(){WeixinJSBridge.call("hideToolbar")};d.ready=function(g){if(g&&typeof g=="function"){var e=this;var f=function(){g(e)};if(typeof c.WeixinJSBridge=="undefined"){if(document.addEventListener){document.addEventListener("WeixinJSBridgeReady",f,false)}else{if(document.attachEvent){document.attachEvent("WeixinJSBridgeReady",f);document.attachEvent("onWeixinJSBridgeReady",f)}}}else{f()}}};d.openInWeixin=function(){return/MicroMessenger/i.test(navigator.userAgent)};d.enableDebugMode=function(e){c.onerror=function(i,g,f,h){if(typeof e==="function"){e({message:i,script:g,line:f,column:h})}else{var j=[];j.push("额，代码有错。。。");j.push("\n错误信息：",i);j.push("\n出错文件：",g);j.push("\n出错位置：",f+"行，"+h+"列");alert(j.join(""))}}}})(window);var callbackUserSaveHandler=function(a){};var resourceType="1";var COMMON_SYSTEM_ERROR_TIP="系统繁忙，请稍候再试！";var getQueryString=function(d){var f=decodeURIComponent(location.search.slice(1));if(f!=""){var c=f.split("&");for(var e=0,a=c.length,b;e<a;e++){b=c[e].split("=");if(b[0]===d){return b[1]}}return""}return""};var from=getQueryString("from");var gefrom=getQueryString("gefrom");if(from!=null&&from!=""){gefrom=from}var noRunShare=$("#noRunShare").val();if(!noRunShare){if(from!=null&&from!=""&&window.location.pathname.indexOf("index.html")<0){}}function toUrl(a){if(from!=null&&from!=""){if(a.indexOf(".html?")>0){a=a+"&gefrom="+from}else{a=a+"?gefrom="+from}}if(gefrom!=null&&gefrom!=""){if(a.indexOf("gefrom=")<0){if(a.indexOf(".html?")>0){a=a+"&gefrom="+gefrom}else{a=a+"?gefrom="+gefrom}}}setTimeout("window.location.href='"+a+"'",5)}$(function(){$("script").each(function(a,b){var c=$(this).attr("src");$(this).attr("src",c+"?v="+version)});$("link").each(function(b,c){var a=$(this).attr("href")});$.ajax({type:"get",async:false,url:domain_url+"version/check",dataType:"jsonp",jsonp:"callback",jsonpCallback:"callbackVersionHandler",success:function(a){if(!a.result){location.href=a.redirect}},error:function(){}});$.ajax({type:"get",async:false,url:domain_url+"user/save",data:{openid:openid,type:resourceType,userProfile:userProfile},dataType:"jsonp",jsonp:"callback",jsonpCallback:"callbackUserHandler",success:function(a){},error:function(){}})});var getResult=function(b,d,e,c,a){if(c){showLoading(a)}$.ajax({type:"GET",async:false,url:domain_url+b,data:d,dataType:"jsonp",jsonp:e,complete:function(){if(c){hideLoading(a)}},success:function(f){}})};var simpleTpl=function(a){a=$.isArray(a)?a.join(""):(a||"");return{store:a,_:function(){var b=this;$.each(arguments,function(c,d){b.store+=d});return this},toString:function(){return this.store}}};var normalDate=function(b,l,i){var b=Number(b),d=new Date(b),m,l=l?l:"yyyy-mm-dd hh:ii:ss",i=(i===undefined)?true:i,a=function(o){return o<10?"0"+o:o},h=i?a:function(o){return o};var j=h(d.getFullYear()),g=h(d.getMonth()+1),k=h(d.getDate()),f=h(d.getHours()),e=h(d.getMinutes()),c=h(d.getSeconds());m=l.replace(/yyyy/i,j).replace(/mm/i,g).replace(/dd/i,k).replace(/hh/i,f).replace(/ii/i,e).replace(/ss/i,c);return m};var share=function(a){var c=simpleTpl(),b=$("#share_box");if(b.length==0){c._('<div class="share_box" id="share_box"></div>');b=$(c.toString());b.click(function(d){$(this).hide()});$("body").append(b)}else{b.show()}};var str2date=function(a){a=a.replace(/-/g,"/");return new Date(a)};var timestamp=function(a){return Date.parse(str2date(a))};var dateformat=function(date,format){var z={M:date.getMonth()+1,d:date.getDate(),h:date.getHours(),m:date.getMinutes(),s:date.getSeconds()};format=format.replace(/(M+|d+|h+|m+|s+)/g,function(v){return((v.length>1?"0":"")+eval("z."+v.slice(-1))).slice(-2)});return format.replace(/(y+)/g,function(v){return date.getFullYear().toString().slice(-v.length)})};var showLoading=function(f){var c=simpleTpl(),f=f||$("body"),e=f?f.find(".spinner"):$("body").children(".spinner");if(e.length>0){e.show()}else{c._('<div class="spinner">')._('<div class="spinner-wrapper">')._('<div class="spinner-container container1">')._('<div class="circle1"></div>')._('<div class="circle2"></div>')._('<div class="circle3"></div>')._('<div class="circle4"></div>')._("</div>")._('<div class="spinner-container container2">')._('<div class="circle1"></div>')._('<div class="circle2"></div>')._('<div class="circle3"></div>')._('<div class="circle4"></div>')._("</div>")._('<div class="spinner-container container3">')._('<div class="circle1"></div>')._('<div class="circle2"></div>')._('<div class="circle3"></div>')._('<div class="circle4"></div>')._("</div>")._("</div>")._("</div>");var d=$(window).width(),a=$(window).height(),b=50;e=$(c.toString()).css({left:(d-b)/2,top:(a-b)/2});f.append(e)}};var hideLoading=function(a){if(a){a.find(".spinner").hide()}else{$("body").children(".spinner").hide()}$(".copyright").removeClass("hidden")};(function(a){a.fn.progress=function(d){var i={eAttr:"data-etime",sAttr:"data-stime",pAttr:"data-ptime",wTime:3000,cTime:new Date().getTime(),index:0,callback:null,stCallback:null,sdCallback:null,otCallback:null,ptCallback:null};var h=function(j){return j<10?"0"+j:j};var g=a.extend(i,d);var c=0;var f=a(this);var e=a(window).width();var b=function(j){if(j){g.cTime+=g.wTime}f.each(function(){var m=a(this);var p=parseInt(m.attr(g.sAttr));var s=parseInt(m.attr(g.eAttr));var t=parseInt(m.attr(g.pAttr));var o=isNaN(p)?0:p-g.cTime;var l=isNaN(s)?0:s-g.cTime;var q=isNaN(t)?0:t-g.cTime;var r=(isNaN(p)||isNaN(s))?0:s-p;var k=0;if(o>0){k=1;W.pages_info[g.index]["state"]=k;g.stCallback&&g.stCallback(k)}else{if(l>0){k=2;W.pages_info[g.index]["state"]=k;g.sdCallback&&g.sdCallback(k)}else{if(q<=0){k=4;W.pages_info[g.index]["state"]=k;g.ptCallback&&g.ptCallback(k)}else{k=3;W.pages_info[g.index]["state"]=k;g.otCallback&&g.otCallback(k)}}}m.closest(".page").attr("data-state",k);g.callback&&g.callback(k)})};b();c=setInterval(function(){b(true)},g.wTime)}})(Zepto);(function(a){a.fn.countDown=function(c){var g={eAttr:"data-etime",sAttr:"data-stime",wTime:100,cTime:new Date().getTime(),stpl:"%H%:%M%:%S%",etpl:"%H%:%M%:%S%",otpl:"已结束",callback:function(){}};var f=function(h){return h<10?"0"+h:h};var e=a.extend(g,c);var d=a(this);var b=function(){e.cTime+=e.wTime;d.each(function(){var i=a(this);var h=parseInt(i.attr(e.sAttr));var l=parseInt(i.attr(e.eAttr));var k=isNaN(h)?0:h-e.cTime;var o=isNaN(l)?0:l-e.cTime;var j=function(p,t){var s=Math.round((p%60000)/e.wTime);s=f(Math.round(s/1000*e.wTime));var q=f(Math.floor((p%3600000)/60000));var r=f(Math.floor((p%86400000)/3600000));var u=f(Math.floor(p/86400000));i.html(t.replace(/%S%/,s).replace(/%M%/,q).replace(/%H%/,r).replace(/%D%/,u))};var m=1;if(k>0){j(k,e.stpl)}else{if(o>0){m=2;j(o,e.etpl)}else{m=3;i.html(e.otpl)}}e.callback&&e.callback(m)})};setInterval(function(){b()},e.wTime)}})(Zepto);var imgReady=(function(){var d=[],c=null,b=function(){var e=0;for(;e<d.length;e++){d[e].end?d.splice(e--,1):d[e]()}!d.length&&a()},a=function(){clearInterval(c);c=null};return function(f,k,m,j){var l,g,o,i,e,h=new Image();h.src=f;if(h.complete){k.call(h);m&&m.call(h);return}g=h.width;o=h.height;h.onerror=function(){j&&j.call(h);l.end=true;h=h.onload=h.onerror=null};l=function(){i=h.width;e=h.height;if(i!==g||e!==o||i*e>1024){k.call(h);l.end=true}};l();h.onload=function(){!l.end&&l();m&&m.call(h);h=h.onload=h.onerror=null};if(!l.end){d.push(l);if(c===null){c=setInterval(b,40)}}}})();function add_param(e,h,c,b){if((e==null)||(e.length==0)){e=document.location.href}var a=e.split("?");var f="";if(a.length>1){var j=a[1].split("&");for(var d=0;(d<j.length);d++){var g=j[d].split("=");if(!(b&&g[0]==h)){if(f==""){f="?"}else{f+="&"}f+=g[0]+"="+g[1]}}}if(c!==null){if(f==""){f="?"}else{f+="&"}f+=h+"="+c}return a[0]+f}function add_yao_prefix(a){return"http://yao.qq.com/tv/entry?redirect_uri="+a}var is_android=function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("android")>-1};function __ns(fullNs){var nsArray=fullNs.split(".");var evalStr="";var ns="";for(var i=0,l=nsArray.length;i<l;i++){i!==0&&(ns+=".");ns+=nsArray[i];evalStr+="( typeof "+ns+' === "undefined" && ('+ns+" = {}) );"}evalStr!==""&&eval(evalStr)}var __noop=function(){};var W=W||window;__ns("H");(function(a){H.audio={$audio:a(".ui-audio"),$audio_btn:a(".audio-icon"),audio:null,audio_val:true,zlow:function(){this.$audio.addClass("zlow")},show:function(){this.$audio.removeClass("zlow none")},init:function(b){var d={loop:false,preload:"auto",src:b,autoplay:true};this.audio=new Audio();for(var c in d){if(d.hasOwnProperty(c)&&(c in this.audio)){this.audio[c]=d[c]}}this.audio.load();this.$audio_btn.addClass("animated")},event_handler:function(){var e=this;if(this.$audio.length==0){return}var c=e.$audio.find(".audio-txt"),d=null;e.$audio.find(".btn-audio").on("click",function(f){f.preventDefault();e.audio_contorl()});a(e.audio).on("play",function(){e.audio_val=false;b(c,true,d);e.$audio_btn.addClass("animated")});a(e.audio).on("pause",function(){b(c,false,d);e.$audio_btn.removeClass("animated")});function b(f,h,g){f.text(h?"打开":"关闭");if(g){clearTimeout(g)}f.removeClass("animated hide");g=setTimeout(function(){f.addClass("animated").addClass("hide")},1000)}},audio_contorl:function(){if(!this.audio_val){this.audio_stop()}else{this.audio_play()}},audio_play:function(){this.audio_val=false;if(this.audio){this.audio.play()}},audio_stop:function(){this.audio_val=true;if(this.audio){this.audio.pause()}}}})(Zepto);if(typeof Zepto==="undefined"){throw new Error("Parallax.js's script requires Zepto")}!function(g){var z,r,v,h,y,m,x,k,b,a,c,f,q=false,e=true;window.curPage=0;g.fn.parallax=function(A){f=g.extend({},g.fn.parallax.defaults,A);return this.each(function(){b=g(this);a=b.find(".page");s()})};g.fn.parallax.defaults={direction:"vertical",swipeAnim:"default",drag:true,loading:false,indicator:false,arrow:false,onchange:function(){},orientationchange:function(){}};function s(){if(f.loading){g(".wrapper").append('<div class="parallax-loading"><i class="ui-loading ui-loading-white"></i></div>')}else{e=false}y="stay";m=a.length;x=g(window).width();k=g(window).height();c=g("[data-animation]");for(var A=0;A<m;A++){g(a[A]).attr("data-id",A+1)}b.addClass(f.direction).addClass(f.swipeAnim);a.css({width:x+"px",height:k+"px"});f.direction==="horizontal"?b.css("width",x*a.length):b.css("height",k*a.length);if(f.swipeAnim==="cover"){b.css({width:x,height:k});a[0].style.display="block"}if(!f.loading){g(a[curPage]).addClass("current");f.onchange(curPage,a[curPage],y);d()}if(f.arrow){a.append('<span class="parallax-arrow"></span>');g(a[m-1]).find(".parallax-arrow").remove()}}function u(A){if(e===true){event.preventDefault();return false}q=true;f.direction==="horizontal"?z=A.pageX:z=A.pageY;if(f.swipeAnim==="default"){b.addClass("drag");h=b.css("-webkit-transform").replace("matrix(","").replace(")","").split(",");f.direction==="horizontal"?h=parseInt(h[4]):h=parseInt(h[5])}if((f.swipeAnim==="cover"&&f.drag)){a.addClass("drag")}v=1}function j(A){if(e===true||q===false){event.preventDefault();return false}event.preventDefault();f.direction==="horizontal"?r=A.pageX:r=A.pageY;t();if(f.drag&&!o()){p()}else{if(o()){b.css("-webkit-transform","matrix(1, 0, 0, 1, "+h+", 0)")}}v=2}function i(A){if(e===true||v!==2){}else{q=false;f.direction==="horizontal"?r=A.pageX:r=A.pageY;if(f.swipeAnim==="default"&&!o()){b.removeClass("drag");if(Math.abs(r-z)<=50){l(curPage);y="stay"}else{if(r>=z){l(curPage-1);y="backward"}else{if(r<z){l(curPage+1);y="forward"}}}}else{if(f.swipeAnim==="cover"&&!o()){if(Math.abs(r-z)<=50&&r>=z&&f.drag){l(curPage,"keep-backward");y="stay"}else{if(Math.abs(r-z)<=50&&r<z&&f.drag){l(curPage,"keep-forward");y="stay"}else{if(Math.abs(r-z)>50&&r>=z&&f.drag){l(curPage-1,"backward");y="backward"}else{if(Math.abs(r-z)>50&&r<z&&f.drag){l(curPage+1,"forward");y="forward"}else{if(Math.abs(r-z)>50&&r>=z&&!f.drag){l(curPage-1,"backward");y="backward"}else{if(Math.abs(r-z)>50&&r<z&&!f.drag){l(curPage+1,"forward");y="forward"}}}}}}}}if(f.indicator){g(g(".parallax-h-indicator ul li, .parallax-v-indicator ul li").removeClass("current").get(curPage)).addClass("current")}v=3}}function p(){if(f.swipeAnim==="default"){var B=h+r-z;f.direction==="horizontal"?b.css("-webkit-transform","matrix(1, 0, 0, 1, "+B+", 0)"):b.css("-webkit-transform","matrix(1, 0, 0, 1, 0, "+B+")")}else{if(f.swipeAnim==="cover"){var B=r-z,A=g(a[curPage-1]),C=g(a[curPage+1]);g(a).css({"z-index":0});if(f.direction==="horizontal"&&r>=z){A.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(B-x)+"px)"})}else{if(f.direction==="horizontal"&&r<z){C.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(x+B)+"px)"})}else{if(f.direction==="vertical"&&r>=z){A.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(B-k)+"px)"})}else{if(f.direction==="vertical"&&r<z){C.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(k+B)+"px)"})}}}}}}}function l(A,B){curPage=A;if(f.swipeAnim==="default"){var C=0;f.direction==="horizontal"?C=A*(-x):C=A*(-k);f.direction==="horizontal"?b.css({"-webkit-transform":"matrix(1, 0, 0, 1, "+C+", 0)"}):b.css({"-webkit-transform":"matrix(1, 0, 0, 1, 0, "+C+")"})}else{if(f.swipeAnim==="cover"){if(B==="keep-backward"&&f.drag){a.removeClass("drag");f.direction==="horizontal"?g(a[curPage-1]).css({"-webkit-transform":"translateX(-100%)"}):g(a[curPage-1]).css({"-webkit-transform":"translateY(-100%)"})}else{if(B==="keep-forward"&&f.drag){a.removeClass("drag");f.direction==="horizontal"?g(a[curPage+1]).css({"-webkit-transform":"translateX(100%)"}):g(a[curPage+1]).css({"-webkit-transform":"translateY(100%)"})}else{if(B==="forward"&&f.drag){a.removeClass("drag");g(a[curPage-1]).addClass("back");a[curPage].style.webkitTransform="translate(0, 0)"}else{if(B==="backward"&&f.drag){a.removeClass("drag");g(a[curPage+1]).addClass("back");a[curPage].style.webkitTransform="translate(0, 0)"}else{if(B==="forward"&&!f.drag){b.addClass("animate");g(a[curPage-1]).addClass("back");g(a[curPage]).addClass("front").show()}else{if(B==="backward"&&!f.drag){b.addClass("animate");g(a[curPage+1]).addClass("back");g(a[curPage]).addClass("front").show()}}}}}}}}e=true;setTimeout(function(){e=false},300)}function t(){if(f.direction==="horizontal"){if(r>=z){b.removeClass("forward").addClass("backward")}else{if(r<z){b.removeClass("backward").addClass("forward")}}}else{if(r>=z){b.removeClass("forward").addClass("backward")}else{if(r<z){b.removeClass("backward").addClass("forward")}}}}function o(){var A=g(".page").index(g(".page").not(function(){return g(this).hasClass("none")}).last());if(f.direction==="horizontal"){if((r>=z&&curPage===0)||(r<=z&&curPage===A)){return true}}else{if((r>=z&&curPage===0)||(r<=z&&curPage===A)){return true}}return false}function w(){return a.parent().hasClass("disabled")}function d(){c.css({"-webkit-animation":"none",display:"none"});g(".current [data-animation]").each(function(D,G){var B=g(G),F=B.attr("data-animation"),E=B.attr("data-duration")||500,C=B.attr("data-timing-function")||"ease",A=B.attr("data-delay")?B.attr("data-delay"):0;if(F==="followSlide"){if(f.direction==="horizontal"&&y==="forward"){F="followSlideToLeft"}else{if(f.direction==="horizontal"&&y==="backward"){F="followSlideToRight"}else{if(f.direction==="vertical"&&y==="forward"){F="followSlideToTop"}else{if(f.direction==="vertical"&&y==="backward"){F="followSlideToBottom"}}}}}B.css({display:"block","-webkit-animation-name":F,"-webkit-animation-duration":E+"ms","-webkit-animation-timing-function":"ease","-webkit-animation-timing-function":C,"-webkit-animation-delay":A+"ms","-webkit-animation-fill-mode":"both"})})}g(document).on("touchstart",".page",function(A){if(!w()){u(A.changedTouches[0])}}).on("touchmove",".page",function(A){if(!w()){j(A.changedTouches[0])}}).on("touchend",".page",function(A){if(!w()){i(A.changedTouches[0])}}).on("webkitAnimationEnd webkitTransitionEnd",".pages",function(){if(y!=="stay"){setTimeout(function(){g(".back").hide().removeClass("back");g(".front").show().removeClass("front");b.removeClass("forward backward animate")},10);a.length>0&&g(a.removeClass("current").get(curPage)).addClass("current");f.onchange(curPage,a[curPage],y);d()}});g(".page *").on("webkitAnimationEnd",function(){event.stopPropagation()});window.addEventListener("onorientationchange" in window?"orientationchange":"resize",function(){if(window.orientation===180||window.orientation===0){f.orientationchange("portrait")}if(window.orientation===90||window.orientation===-90){f.orientationchange("landscape")}},false)}(Zepto);!function(){var f={},e={},h={parse:function(j){var p,o,m,l,k,i={},q=j.split("&");for(l=0,k=q.length;k>l;l++){p=q[l].split("="),2==p.length&&(o=p[0],m=p[1],-1==o.indexOf("[]")?i[o]=decodeURIComponent(m):(o=o.replace("[]",""),i[o]=i[o]||[],i[o].push(m)))}return i},serialize:function(j){var p,o,m,l,k,i=[];for(p in j){if(j.hasOwnProperty(p)){if(o=j[p],o instanceof Array){for(m=o,l=0,k=m.length;k>l;l++){o=encodeURIComponent(m[l]),i.push(p+"[]="+o)}}else{o=encodeURIComponent(o),i.push(p+"="+o)}}}return i.join("&")}},g=function(){function k(a,d){this.targets={},this.name=a,this.actionFunc=[],j=d||j,this.initListen()}var j="shake_tv",i=function(m,d){var o="";if(arguments.length<2?o="target error - target and name are both requied":"object"!=typeof m?o="target error - target itself must be window object":"string"!=typeof d&&(o="target error - target name must be string type"),o){throw new Error(o)}this.target=m,this.name=d},l="postMessage" in window;return i.prototype.send=l?function(b){this.target.postMessage(b,"*")}:function(a){var d=window.navigator[j+this.name];if("function"!=typeof d){throw new Error("target callback function is not defined")}d(a,window)},k.prototype.addTarget=function(b,o){var m=new i(b,o);this.targets[o]=m},k.prototype.initListen=function(){var d=this,c=function(a){"object"==typeof a&&a.data&&(a=a.data);for(var m=0;m<d.actionFunc.length;m++){d.actionFunc[m](a)}};l?document.addEventListener?window.addEventListener("message",c,!1):document.attachEvent&&window.attachEvent("onmessage",c):window.navigator[n+this.name]=c},k.prototype.addAction=function(b){this.actionFunc.push(b)},k.prototype.clear=function(){this.actionFunc=[]},k.prototype.send=function(m){var o,d=this.targets;for(o in d){d.hasOwnProperty(o)&&d[o].send(m)}},k}();e.init=function(a){window.parent!=window?(e.messager=new g("iframe"),a&&e.messager.addTarget(a,"parent")):(e.messager=new g("parent"),a&&e.messager.addTarget(a,"iframe")),e.messager.addAction(function(c){c=h.parse(c),(funcName=c.type)&&f[funcName]&&f[funcName](c)})},e.addTarget=function(b,d){e.messager&&e.messager.addTarget(b,d)},e.on=function(a,d){f[a]=d},e.post=function(b){e.messager.send(h.serialize(b))},window.Iframe=e}();!function(){function i(d){if(d){var c;return(!window._loadCss||window._loadCss.indexOf(d)<0)&&(c=document.createElement("link"),c.setAttribute("type","text/css"),c.setAttribute("rel","stylesheet"),c.setAttribute("href",d),c.setAttribute("id","loadCss"+Math.random()),document.getElementsByTagName("head")[0].appendChild(c),window._loadCss?window._loadCss+="|"+d:window._loadCss="|"+d),!0}}function h(p,g){function q(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||"function"==typeof g&&g()}var s,r,t=document.getElementsByTagName("script");for(s=0;s<t.length;s++){if(t[s].src==p){return t[s].onload=t[s].onreadystatechange=q,void 0}}r=document.createElement("script"),r.type="text/javascript",r.src=p,document.getElementsByTagName("head")[0].appendChild(r),r.onload=r.onreadystatechange=q}function o(){return m(location.search,"?","&")}function m(q,p,w){var t,s,r,v=q.replace(p,"").split(w),u={};for(t=0,s=v.length;s>t;t++){r=v[t].split("="),u[r[0]]=r[1]}return u}function l(a,r){var q,p,g,f;return $(".ui-mask_201409011455").length&&$(".ui-mask_201409011455").remove(),$(".mod-layer_201409011455").length&&$(".mod-layer_201409011455").remove(),i("http://yaotv.qq.com/shake_tv/include/css/tip201409111455.css?t=201410241018"),q='<div class="ui-mask_201409011455"></div><div class="mod-layer_201409011455"><div class="mod-layer__desc_201409011455">{#word#}</div><div><a class="mod-layer__confirm_201409011455">确定</a></div></div>',p=j(q,"{#word#}",k(a)),g={},f=document.createElement("div"),f.innerHTML=p,g.show=function(){document.body.appendChild(f)},g.close=function(){document.body.removeChild(f)},g.show(),"function"==typeof r?$(".mod-layer__confirm_201409011455").click(function(){r()&&g.close()}):$(".mod-layer__confirm_201409011455").click(function(){g.close()}),g}function k(b){return"string"!=typeof b?"":b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;").replace(/ /g,"&nbsp;")}function j(g,f,r){function p(a,s){var e=g.split(a);g=e.join(s)}if(void 0!=r){p(f,r)}else{for(var q in f){p(q,f[q])}}return g}window.shaketv||(window.shaketv={}),window.Zepto||h("http://yaotv.qq.com/shake_tv/include/js/lib/zepto.1.1.4.min.js"),shaketv.subscribe=function(v,u){function r(){$.isFunction(u)&&u(t)}function q(){var d=o();d.cb41faa22e731e9b||(d.cb41faa22e731e9b=""),window.Zepto&&$.ajax({type:"GET",url:"http://yao.qq.com/cgi-bin/checkforceauth",data:{appid:v,cb41faa22e731e9b:d.cb41faa22e731e9b},dataType:"jsonp",timeout:5000,success:function(f){return 0!=f.errorCode?(t.errorCode=f.errorCode,t.errorMsg=f.errorMsg,r(),void 0):(s={},$.extend(!0,s,f),g(),r(),void 0)},error:function(){t.errorCode=-1001,t.errorMsg="系统错误，请稍后重试",r()}})}function g(){if($("#iframe_subscribe_footer").length>0){return $("#iframe_subscribe").show(),void 0}var d='<iframe id="iframe_subscribe_footer" src="http://yaotv.qq.com/shake_tv/include/js/iframe_subscribe_footer.html?name={#name#}&logo={#logo#}" style="border: 0px;height: 64px;width: 100%;position: fixed;bottom: 0;left: 0; z-index:10000;"></iframe>';d=j(d,{"{#logo#}":encodeURIComponent(s.headimgurl),"{#name#}":encodeURIComponent(s.appname)}),$("body").append(d)}function e(){var f,d;return $("#iframe_subscribe").length>0?($("#iframe_subscribe").show(),void 0):(f='<iframe id="iframe_subscribe" src="http://yao.qq.com/tv/page?id=1&appname={#appname#}&icon={#icon#}&cb41faa22e731e9b={#cb41faa22e731e9b#}&appid={#appid#}" style="border: 0px;height: 205px;width: 280px;position: fixed;top: 50%;left: 50%; margin-left: -140px;margin-top: -140px;z-index:10000;"></iframe>',d=o(),f=j(f,{"{#appname#}":s.appname,"{#icon#}":s.headimgurl,"{#cb41faa22e731e9b#}":d.cb41faa22e731e9b,"{#appid#}":v}),$("body").append(f),void 0)}function c(){$("#iframe_subscribe_footer").hide()}function b(){var d='<div class="mod-layer__alert_20140929" id="shaketv_div_subscribe_success_float"><div class="ic_20140929 mod-layer__ic_20140929-success"></div><div>已关注</div></div>';$(document.body).append(d),setTimeout(function(){$("#shaketv_div_subscribe_success_float").remove()},2000)}function a(){window.Iframe&&(Iframe.init(),Iframe.on("tip",function(d){l(d.word)}),Iframe.on("subscribe_cancle",function(){$("#iframe_subscribe").remove(),c()}),Iframe.on("subscribe_success",function(){$("#iframe_subscribe").remove(),c(),b()}),Iframe.on("subscribe_footer_no",function(){c(),$("#iframe_subscribe").length>0&&$("#iframe_subscribe").remove()}),Iframe.on("subscribe_footer_yes",function(){e()}))}var t={errorCode:0,errorMsg:""},s=null;i("http://yaotv.qq.com/shake_tv/include/css/subscribe.css?t=20140929"),window.Iframe?a():h("http://yaotv.qq.com/shake_tv/include/js/messager.js",a),window.Zepto?q():h("http://yaotv.qq.com/shake_tv/include/js/lib/zepto.1.1.4.min.js",q)}}();!function(){function b(e){var d=new RegExp("(^| )"+e+"(?:=([^;]*))?(;|$)"),f=document.cookie.match(d);return f?f[2]?unescape(f[2]):"":null}window.shaketv||(window.shaketv={}),shaketv.getUserTicket=function(){return b("yyytv_ticket")}}();!function(){function f(e){if(e){var d;return(!window._loadCss||window._loadCss.indexOf(e)<0)&&(d=document.createElement("link"),d.setAttribute("type","text/css"),d.setAttribute("rel","stylesheet"),d.setAttribute("href",e),d.setAttribute("id","loadCss"+Math.random()),document.getElementsByTagName("head")[0].appendChild(d),window._loadCss?window._loadCss+="|"+e:window._loadCss="|"+e),!0}}function c(a,l){var k,j,i,d;return $(".ui-mask_201409011455").length&&$(".ui-mask_201409011455").remove(),$(".mod-layer_201409011455").length&&$(".mod-layer_201409011455").remove(),f("http://yaotv.qq.com/shake_tv/include/css/tip201409111455.css?t=201410241018"),k='<div class="ui-mask_201409011455"></div><div class="mod-layer_201409011455"><div class="mod-layer__desc_201409011455">{#word#}</div><div><a class="mod-layer__confirm_201409011455">确定</a></div></div>',j=h(k,"{#word#}",a),i={},d=document.createElement("div"),d.innerHTML=j,i.show=function(){document.body.appendChild(d)},i.close=function(){document.body.removeChild(d)},i.show(),"function"==typeof l?$(".mod-layer__confirm_201409011455").click(function(){l()&&i.close()}):$(".mod-layer__confirm_201409011455").click(function(){i.close()}),i}function h(j,i,m){function k(a,o){var e=j.split(a);j=e.join(o)}if(void 0!=m){k(i,m)}else{for(var l in i){k(l,i[l])}}return j}function g(j,i){function k(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||"function"==typeof i&&i()}var m,l,o=document.getElementsByTagName("script");for(m=0;m<o.length;m++){if(o[m].src==j){return o[m].onload=o[m].onreadystatechange=k,void 0}}l=document.createElement("script"),l.type="text/javascript",l.src=j,document.getElementsByTagName("head")[0].appendChild(l),l.onload=l.onreadystatechange=k}window.shaketv||(window.shaketv={}),window.Zepto||g("http://yaotv.qq.com/shake_tv/include/js/lib/zepto.1.1.4.min.js"),shaketv.reserve=function(r,q,p){function e(){$.isFunction(p)&&p(o)}function d(){if($("#iframe_subscribe").length>0){return $("#iframe_subscribe").show(),void 0}var i='<iframe id="iframe_reserve" src="http://yao.qq.com/tv/page?id=2&reserveid={#rid#}&tvid={#tvid#}" style="border: 0px;height: 100%;width: 100%;position: fixed;top: 0%;left: 0%; z-index:10000;"></iframe>';i=h(i,{"{#rid#}":q,"{#tvid#}":r}),$("body").append(i),j=setTimeout(function(){b(),o.errorCode=-1001,o.errorMsg="确认预约窗口打开超时",e()},6000)}function b(){$("#iframe_reserve").remove()}function a(){window.Iframe&&(window.Iframe.messager||Iframe.init(),Iframe.on("reserve_tip",function(i){i&&i.word&&c(i.word)}),Iframe.on("reserve_success",function(){setTimeout(b,2000),o.errorCode=0,o.errorMsg="",e()}),Iframe.on("reserve_cancle",function(){b(),o.errorCode=-1002,o.errorMsg="用户取消",e()}),Iframe.on("reserve_show",function(){clearTimeout(j)}),Iframe.on("reserve_errorback",function(i){b(),i&&i.errorCode?(o.errorCode=i.errorCode,o.errorMsg=i.errorMsg):(o.errorCode=-1003,o.errorMsg="未知错误"),c("预约出错"+o.errorCode+":"+o.errorMsg),e()}))}var o={errorCode:0,errorMsg:""},j=null;f("http://yaotv.qq.com/shake_tv/include/css/subscribe.css?t=20140929"),window.Zepto?d():g("http://yaotv.qq.com/shake_tv/include/js/lib/zepto.1.1.4.min.js",d),window.Iframe?a():g("http://yaotv.qq.com/shake_tv/include/js/messager.js",a)}}();!function(){function d(h,g){function i(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||"function"==typeof g&&g()}var k,j,l=document.getElementsByTagName("script");for(k=0;k<l.length;k++){if(l[k].src==h){return l[k].onload=l[k].onreadystatechange=i,void 0}}j=document.createElement("script"),j.type="text/javascript",j.src=h,document.getElementsByTagName("head")[0].appendChild(j),j.onload=j.onreadystatechange=i}function c(g,f,j){function h(a,k){var e=g.split(a);g=e.join(k)}if(void 0!=j){h(f,j)}else{for(var i in f){h(i,f[i])}}return g}window.shaketv||(window.shaketv={}),window.Zepto||d("http://yaotv.qq.com/shake_tv/include/js/lib/zepto.1.1.4.min.js"),shaketv.authorize=function(q,p,o){function k(){$.isFunction(o)&&o(m)}function b(){if($("#iframe_authorize").length>0){return $("#iframe_authorize").show(),void 0}var e='<iframe id="iframe_authorize" src="http://yao.qq.com/tv/page?id=3&appid={#appid#}&scope={#scope#}" style="border: 0px;height:1px;width: 280px;position: fixed;top: 50%;left: 50%; margin-left: -140px;margin-top: -140px;z-index:10000;"></iframe>';e=c(e,{"{#appid#}":q,"{#scope#}":p}),$("body").append(e),l=setTimeout(function(){$("#iframe_authorize").remove(),m.errorCode=-1002,m.errorMsg="授权窗口打开超时",k()},6000)}function a(){window.Iframe&&(Iframe.init(),Iframe.on("authorize_cancle",function(){$("#iframe_authorize").remove(),m.errorCode=-1001,m.errorMsg="用户取消",k()}),Iframe.on("authorize_success",function(e){$("#iframe_authorize").remove(),m.errorCode=0,m.code=e.code,m.errorMsg="",k()}),Iframe.on("authorize_errorback",function(e){$("#iframe_authorize").remove(),m.errorCode=e.errorCode,m.errorMsg=e.errorMsg,k()}),Iframe.on("authorize_height",function(e){$("#iframe_authorize").css("height",e.height+"px")}),Iframe.on("authorize_show",function(){clearTimeout(l)}))}var m={errorCode:0,errorMsg:"",code:""},l=null;window.Iframe?a():d("http://yaotv.qq.com/shake_tv/include/js/messager.js",a),window.Zepto?b():d("http://yaotv.qq.com/shake_tv/include/js/lib/zepto.1.1.4.min.js",b)}}();
if(typeof Zepto==="undefined"){throw new Error("Parallax.js's script requires Zepto")}!function(g){var y,q,u,h,x,m,w,k,b,a,c,f,p=false,e=true;window.curPage=0;g.fn.parallax=function(z){f=g.extend({},g.fn.parallax.defaults,z);return this.each(function(){b=g(this);a=b.find(".page");r()})};g.fn.parallax.defaults={direction:"vertical",swipeAnim:"default",drag:true,loading:false,indicator:false,arrow:false,onchange:function(){},orientationchange:function(){}};function r(){if(f.loading){g(".wrapper").append('<div class="parallax-loading"><i class="ui-loading ui-loading-white"></i></div>')}else{e=false}x="stay";m=a.length;w=g(window).width();k=g(window).height();c=g("[data-animation]");for(var z=0;z<m;z++){g(a[z]).attr("data-id",z+1)}b.addClass(f.direction).addClass(f.swipeAnim);a.css({width:w+"px",height:k+"px"});f.direction==="horizontal"?b.css("width",w*a.length):b.css("height",k*a.length);if(f.swipeAnim==="cover"){b.css({width:w,height:k});a[0].style.display="block"}if(!f.loading){g(a[curPage]).addClass("current");f.onchange(curPage,a[curPage],x);d()}if(f.arrow){a.append('<span class="parallax-arrow"></span>');g(a[m-1]).find(".parallax-arrow").remove()}}function t(z){if(e===true){event.preventDefault();return false}p=true;f.direction==="horizontal"?y=z.pageX:y=z.pageY;if(f.swipeAnim==="default"){b.addClass("drag");h=b.css("-webkit-transform").replace("matrix(","").replace(")","").split(",");f.direction==="horizontal"?h=parseInt(h[4]):h=parseInt(h[5])}if((f.swipeAnim==="cover"&&f.drag)){a.addClass("drag")}u=1}function j(z){if(e===true||p===false){event.preventDefault();return false}event.preventDefault();f.direction==="horizontal"?q=z.pageX:q=z.pageY;s();if(f.drag&&!n()){o()}else{if(n()){b.css("-webkit-transform","matrix(1, 0, 0, 1, "+h+", 0)")}}u=2}function i(z){if(e===true||u!==2){}else{p=false;f.direction==="horizontal"?q=z.pageX:q=z.pageY;if(f.swipeAnim==="default"&&!n()){b.removeClass("drag");if(Math.abs(q-y)<=50){l(curPage);x="stay"}else{if(q>=y){l(curPage-1);x="backward"}else{if(q<y){l(curPage+1);x="forward"}}}}else{if(f.swipeAnim==="cover"&&!n()){if(Math.abs(q-y)<=50&&q>=y&&f.drag){l(curPage,"keep-backward");x="stay"}else{if(Math.abs(q-y)<=50&&q<y&&f.drag){l(curPage,"keep-forward");x="stay"}else{if(Math.abs(q-y)>50&&q>=y&&f.drag){l(curPage-1,"backward");x="backward"}else{if(Math.abs(q-y)>50&&q<y&&f.drag){l(curPage+1,"forward");x="forward"}else{if(Math.abs(q-y)>50&&q>=y&&!f.drag){l(curPage-1,"backward");x="backward"}else{if(Math.abs(q-y)>50&&q<y&&!f.drag){l(curPage+1,"forward");x="forward"}}}}}}}}if(f.indicator){g(g(".parallax-h-indicator ul li, .parallax-v-indicator ul li").removeClass("current").get(curPage)).addClass("current")}u=3}}function o(){if(f.swipeAnim==="default"){var A=h+q-y;f.direction==="horizontal"?b.css("-webkit-transform","matrix(1, 0, 0, 1, "+A+", 0)"):b.css("-webkit-transform","matrix(1, 0, 0, 1, 0, "+A+")")}else{if(f.swipeAnim==="cover"){var A=q-y,z=g(a[curPage-1]),B=g(a[curPage+1]);g(a).css({"z-index":0});if(f.direction==="horizontal"&&q>=y){z.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(A-w)+"px)"})}else{if(f.direction==="horizontal"&&q<y){B.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(w+A)+"px)"})}else{if(f.direction==="vertical"&&q>=y){z.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(A-k)+"px)"})}else{if(f.direction==="vertical"&&q<y){B.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(k+A)+"px)"})}}}}}}}function l(z,A){curPage=z;if(f.swipeAnim==="default"){var B=0;f.direction==="horizontal"?B=z*(-w):B=z*(-k);f.direction==="horizontal"?b.css({"-webkit-transform":"matrix(1, 0, 0, 1, "+B+", 0)"}):b.css({"-webkit-transform":"matrix(1, 0, 0, 1, 0, "+B+")"})}else{if(f.swipeAnim==="cover"){if(A==="keep-backward"&&f.drag){a.removeClass("drag");f.direction==="horizontal"?g(a[curPage-1]).css({"-webkit-transform":"translateX(-100%)"}):g(a[curPage-1]).css({"-webkit-transform":"translateY(-100%)"})}else{if(A==="keep-forward"&&f.drag){a.removeClass("drag");f.direction==="horizontal"?g(a[curPage+1]).css({"-webkit-transform":"translateX(100%)"}):g(a[curPage+1]).css({"-webkit-transform":"translateY(100%)"})}else{if(A==="forward"&&f.drag){a.removeClass("drag");g(a[curPage-1]).addClass("back");a[curPage].style.webkitTransform="translate(0, 0)"}else{if(A==="backward"&&f.drag){a.removeClass("drag");g(a[curPage+1]).addClass("back");a[curPage].style.webkitTransform="translate(0, 0)"}else{if(A==="forward"&&!f.drag){b.addClass("animate");g(a[curPage-1]).addClass("back");g(a[curPage]).addClass("front").show()}else{if(A==="backward"&&!f.drag){b.addClass("animate");g(a[curPage+1]).addClass("back");g(a[curPage]).addClass("front").show()}}}}}}}}e=true;setTimeout(function(){e=false},300)}function s(){if(f.direction==="horizontal"){if(q>=y){b.removeClass("forward").addClass("backward")}else{if(q<y){b.removeClass("backward").addClass("forward")}}}else{if(q>=y){b.removeClass("forward").addClass("backward")}else{if(q<y){b.removeClass("backward").addClass("forward")}}}}function n(){var z=g(".page").index(g(".page").not(function(){return g(this).hasClass("none")}).last());if(f.direction==="horizontal"){if((q>=y&&curPage===0)||(q<=y&&curPage===z)){return true}}else{if((q>=y&&curPage===0)||(q<=y&&curPage===z)){return true}}return false}function v(){return a.parent().hasClass("disabled")}function d(){c.css({"-webkit-animation":"none",display:"none"});g(".current [data-animation]").each(function(C,F){var A=g(F),E=A.attr("data-animation"),D=A.attr("data-duration")||500,B=A.attr("data-timing-function")||"ease",z=A.attr("data-delay")?A.attr("data-delay"):0;if(E==="followSlide"){if(f.direction==="horizontal"&&x==="forward"){E="followSlideToLeft"}else{if(f.direction==="horizontal"&&x==="backward"){E="followSlideToRight"}else{if(f.direction==="vertical"&&x==="forward"){E="followSlideToTop"}else{if(f.direction==="vertical"&&x==="backward"){E="followSlideToBottom"}}}}}A.css({display:"block","-webkit-animation-name":E,"-webkit-animation-duration":D+"ms","-webkit-animation-timing-function":"ease","-webkit-animation-timing-function":B,"-webkit-animation-delay":z+"ms","-webkit-animation-fill-mode":"both"})})}g(document).on("touchstart",".page",function(z){if(!v()){t(z.changedTouches[0])}}).on("touchmove",".page",function(z){if(!v()){j(z.changedTouches[0])}}).on("touchend",".page",function(z){if(!v()){i(z.changedTouches[0])}}).on("webkitAnimationEnd webkitTransitionEnd",".pages",function(){if(x!=="stay"){setTimeout(function(){g(".back").hide().removeClass("back");g(".front").show().removeClass("front");b.removeClass("forward backward animate")},10);a.length>0&&g(a.removeClass("current").get(curPage)).addClass("current");f.onchange(curPage,a[curPage],x);d()}});g(".page *").on("webkitAnimationEnd",function(){event.stopPropagation()});window.addEventListener("onorientationchange" in window?"orientationchange":"resize",function(){if(window.orientation===180||window.orientation===0){f.orientationchange("portrait")}if(window.orientation===90||window.orientation===-90){f.orientationchange("landscape")}},false)}(Zepto);
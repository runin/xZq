var Zepto=(function(){var aP,aI,aw,a2,am=[],aM=am.slice,av=am.filter,aV=window.document,ap={},al={},ad={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},aE=/^\s*<(\w+|!)[^>]*>/,an=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,aS=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,ar=/^(?:body|html)$/i,aN=/([A-Z])/g,ax=["val","css","html","text","data","width","height","offset"],aD=["after","prepend","before","append"],aH=aV.createElement("table"),ak=aV.createElement("tr"),aU={tr:aV.createElement("tbody"),tbody:aH,thead:aH,tfoot:aH,td:ak,th:ak,"*":aV.createElement("div")},aG=/complete|loaded|interactive/,aR=/^[\w-]*$/,aY={},aW=aY.toString,aZ={},af,aj,at=aV.createElement("div"),ac={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},aA=Array.isArray||function(a){return a instanceof Array};aZ.matches=function(b,f){if(!f||!b||b.nodeType!==1){return false}var d=b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector||b.matchesSelector;if(d){return d.call(b,f)}var c,a=b.parentNode,e=!a;if(e){(a=at).appendChild(b)}c=~aZ.qsa(a,f).indexOf(b);e&&at.removeChild(b);return c};function aC(a){return a==null?String(a):aY[aW.call(a)]||"object"}function aL(a){return aC(a)=="function"}function ao(a){return a!=null&&a==a.window}function aF(a){return a!=null&&a.nodeType==a.DOCUMENT_NODE}function aq(a){return aC(a)=="object"}function ab(a){return aq(a)&&!ao(a)&&Object.getPrototypeOf(a)==Object.prototype}function az(a){return typeof a.length=="number"}function ae(a){return av.call(a,function(b){return b!=null})}function ay(a){return a.length>0?aw.fn.concat.apply([],a):a}af=function(a){return a.replace(/-+(.)?/g,function(c,b){return b?b.toUpperCase():""})};function aO(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}aj=function(a){return av.call(a,function(b,c){return a.indexOf(b)==c})};function ai(a){return a in al?al[a]:(al[a]=new RegExp("(^|\\s)"+a+"(\\s|$)"))}function aX(b,a){return(typeof a=="number"&&!ad[aO(b)])?a+"px":a}function ah(a){var c,b;if(!ap[a]){c=aV.createElement(a);aV.body.appendChild(c);b=getComputedStyle(c,"").getPropertyValue("display");c.parentNode.removeChild(c);b=="none"&&(b="block");ap[a]=b}return ap[a]}function aJ(a){return"children" in a?aM.call(a.children):aw.map(a.childNodes,function(b){if(b.nodeType==1){return b}})}aZ.fragment=function(b,d,c){var a,e,f;if(an.test(b)){a=aw(aV.createElement(RegExp.$1))}if(!a){if(b.replace){b=b.replace(aS,"<$1></$2>")}if(d===aP){d=aE.test(b)&&RegExp.$1}if(!(d in aU)){d="*"}f=aU[d];f.innerHTML=""+b;a=aw.each(aM.call(f.childNodes),function(){f.removeChild(this)})}if(ab(c)){e=aw(a);aw.each(c,function(h,g){if(ax.indexOf(h)>-1){e[h](g)}else{e.attr(h,g)}})}return a};aZ.Z=function(a,b){a=a||[];a.__proto__=aw.fn;a.selector=b||"";return a};aZ.isZ=function(a){return a instanceof aZ.Z};aZ.init=function(c,b){var a;if(!c){return aZ.Z()}else{if(typeof c=="string"){c=c.trim();if(c[0]=="<"&&aE.test(c)){a=aZ.fragment(c,RegExp.$1,b),c=null}else{if(b!==aP){return aw(b).find(c)}else{a=aZ.qsa(aV,c)}}}else{if(aL(c)){return aw(aV).ready(c)}else{if(aZ.isZ(c)){return c}else{if(aA(c)){a=ae(c)}else{if(aq(c)){a=[c],c=null}else{if(aE.test(c)){a=aZ.fragment(c.trim(),RegExp.$1,b),c=null}else{if(b!==aP){return aw(b).find(c)}else{a=aZ.qsa(aV,c)}}}}}}}}return aZ.Z(a,c)};aw=function(b,a){return aZ.init(b,a)};function aQ(a,b,c){for(aI in b){if(c&&(ab(b[aI])||aA(b[aI]))){if(ab(b[aI])&&!ab(a[aI])){a[aI]={}}if(aA(b[aI])&&!aA(a[aI])){a[aI]=[]}aQ(a[aI],b[aI],c)}else{if(b[aI]!==aP){a[aI]=b[aI]}}}}aw.extend=function(a){var c,b=aM.call(arguments,1);if(typeof a=="boolean"){c=a;a=b.shift()}b.forEach(function(d){aQ(a,d,c)});return a};aZ.qsa=function(e,g){var b,a=g[0]=="#",f=!a&&g[0]==".",d=a||f?g.slice(1):g,c=aR.test(d);return(aF(e)&&c&&a)?((b=e.getElementById(d))?[b]:[]):(e.nodeType!==1&&e.nodeType!==9)?[]:aM.call(c&&!a?f?e.getElementsByClassName(d):e.getElementsByTagName(g):e.querySelectorAll(g))};function aB(a,b){return b==null?aw(a):aw(a).filter(b)}aw.contains=aV.documentElement.contains?function(b,a){return b!==a&&b.contains(a)}:function(b,a){while(a&&(a=a.parentNode)){if(a===b){return true}}return false};function aK(b,c,d,a){return aL(c)?c.call(b,d,a):c}function a1(b,c,a){a==null?b.removeAttribute(c):b.setAttribute(c,a)}function ag(b,a){var d=b.className,c=d&&d.baseVal!==aP;if(a===aP){return c?d.baseVal:d}c?(d.baseVal=a):(b.className=a)}function aT(b){var c;try{return b?b=="true"||(b=="false"?false:b=="null"?null:!/^0/.test(b)&&!isNaN(c=Number(b))?c:/^[\[\{]/.test(b)?aw.parseJSON(b):b):b}catch(a){return b}}aw.type=aC;aw.isFunction=aL;aw.isWindow=ao;aw.isArray=aA;aw.isPlainObject=ab;aw.isEmptyObject=function(a){var b;for(b in a){return false}return true};aw.inArray=function(b,a,c){return am.indexOf.call(a,b,c)};aw.camelCase=af;aw.trim=function(a){return a==null?"":String.prototype.trim.call(a)};aw.uuid=0;aw.support={};aw.expr={};aw.map=function(b,a){var c,f=[],d,e;if(az(b)){for(d=0;d<b.length;d++){c=a(b[d],d);if(c!=null){f.push(c)}}}else{for(e in b){c=a(b[e],e);if(c!=null){f.push(c)}}}return ay(f)};aw.each=function(b,a){var c,d;if(az(b)){for(c=0;c<b.length;c++){if(a.call(b[c],c,b[c])===false){return b}}}else{for(d in b){if(a.call(b[d],d,b[d])===false){return b}}}return b};aw.grep=function(b,a){return av.call(b,a)};if(window.JSON){aw.parseJSON=JSON.parse}aw.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){aY["[object "+b+"]"]=b.toLowerCase()});aw.fn={forEach:am.forEach,reduce:am.reduce,push:am.push,sort:am.sort,indexOf:am.indexOf,concat:am.concat,map:function(a){return aw(aw.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return aw(aM.apply(this,arguments))},ready:function(a){if(aG.test(aV.readyState)&&aV.body){a(aw)}else{aV.addEventListener("DOMContentLoaded",function(){a(aw)},false)}return this},get:function(a){return a===aP?aM.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null){this.parentNode.removeChild(this)}})},each:function(a){am.every.call(this,function(b,c){return a.call(b,c,b)!==false});return this},filter:function(a){if(aL(a)){return this.not(this.not(a))}return aw(av.call(this,function(b){return aZ.matches(b,a)}))},add:function(b,a){return aw(aj(this.concat(aw(b,a))))},is:function(a){return this.length>0&&aZ.matches(this[0],a)},not:function(c){var b=[];if(aL(c)&&c.call!==aP){this.each(function(d){if(!c.call(this,d)){b.push(this)}})}else{var a=typeof c=="string"?this.filter(c):(az(c)&&aL(c.item))?aM.call(c):aw(c);this.forEach(function(d){if(a.indexOf(d)<0){b.push(d)}})}return aw(b)},has:function(a){return this.filter(function(){return aq(a)?aw.contains(this,a):aw(this).find(a).size()})},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!aq(a)?a:aw(a)},last:function(){var a=this[this.length-1];return a&&!aq(a)?a:aw(a)},find:function(b){var c,a=this;if(!b){c=[]}else{if(typeof b=="object"){c=aw(b).filter(function(){var d=this;return am.some.call(a,function(e){return aw.contains(e,d)})})}else{if(this.length==1){c=aw(aZ.qsa(this[0],b))}else{c=this.map(function(){return aZ.qsa(this,b)})}}}return c},closest:function(d,c){var b=this[0],a=false;if(typeof d=="object"){a=aw(d)}while(b&&!(a?a.indexOf(b)>=0:aZ.matches(b,d))){b=b!==c&&!aF(b)&&b.parentNode}return aw(b)},parents:function(c){var a=[],b=this;while(b.length>0){b=aw.map(b,function(d){if((d=d.parentNode)&&!aF(d)&&a.indexOf(d)<0){a.push(d);return d}})}return aB(a,c)},parent:function(a){return aB(aj(this.pluck("parentNode")),a)},children:function(a){return aB(this.map(function(){return aJ(this)}),a)},contents:function(){return this.map(function(){return aM.call(this.childNodes)})},siblings:function(a){return aB(this.map(function(c,b){return av.call(aJ(b.parentNode),function(d){return d!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return aw.map(this,function(b){return b[a]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")=="none"){this.style.display=ah(this.nodeName)}})},replaceWith:function(a){return this.before(a).remove()},wrap:function(d){var c=aL(d);if(this[0]&&!c){var b=aw(d).get(0),a=b.parentNode||this.length>1}return this.each(function(e){aw(this).wrapAll(c?d.call(this,e):a?b.cloneNode(true):b)})},wrapAll:function(b){if(this[0]){aw(this[0]).before(b=aw(b));var a;while((a=b.children()).length){b=a.first()}aw(b).append(this)}return this},wrapInner:function(b){var a=aL(b);return this.each(function(e){var f=aw(this),d=f.contents(),c=a?b.call(this,e):b;d.length?d.wrapAll(c):f.append(c)})},unwrap:function(){this.parent().each(function(){aw(this).replaceWith(aw(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(true)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=aw(this);(a===aP?b.css("display")=="none":a)?b.show():b.hide()})},prev:function(a){return aw(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return aw(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(c){var b=this.innerHTML;aw(this).empty().append(aK(this,a,c,b))}):(0 in this?this[0].innerHTML:null)},text:function(a){return 0 in arguments?this.each(function(c){var b=aK(this,a,c,this.textContent);this.textContent=b==null?"":""+b}):(0 in this?this[0].textContent:null)},attr:function(b,a){var c;return(typeof b=="string"&&!(1 in arguments))?(!this.length||this[0].nodeType!==1?aP:(!(c=this[0].getAttribute(b))&&b in this[0])?this[0][b]:c):this.each(function(d){if(this.nodeType!==1){return}if(aq(b)){for(aI in b){a1(this,aI,b[aI])}}else{a1(this,b,aK(this,a,d,this.getAttribute(b)))}})},removeAttr:function(a){return this.each(function(){this.nodeType===1&&a1(this,a)})},prop:function(b,a){b=ac[b]||b;return(1 in arguments)?this.each(function(c){this[b]=aK(this,a,c,this[b])}):(this[0]&&this[0][b])},data:function(d,a){var c="data-"+d.replace(aN,"-$1").toLowerCase();var b=(1 in arguments)?this.attr(c,a):this.attr(c);return b!==null?aT(b):aP},val:function(a){return 0 in arguments?this.each(function(b){this.value=aK(this,a,b,this.value)}):(this[0]&&(this[0].multiple?aw(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value))},offset:function(a){if(a){return this.each(function(f){var c=aw(this),d=aK(this,a,f,c.offset()),g=c.offsetParent().offset(),e={top:d.top-g.top,left:d.left-g.left};if(c.css("position")=="static"){e.position="relative"}c.css(e)})}if(!this.length){return null}var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(a,b){if(arguments.length<2){var d=this[0],f=getComputedStyle(d,"");if(!d){return}if(typeof a=="string"){return d.style[af(a)]||f.getPropertyValue(a)}else{if(aA(a)){var c={};aw.each(aA(a)?a:[a],function(h,g){c[g]=(d.style[af(g)]||f.getPropertyValue(g))});return c}}}var e="";if(aC(a)=="string"){if(!b&&b!==0){this.each(function(){this.style.removeProperty(aO(a))})}else{e=aO(a)+":"+aX(a,b)}}else{for(aI in a){if(!a[aI]&&a[aI]!==0){this.each(function(){this.style.removeProperty(aO(aI))})}else{e+=aO(aI)+":"+aX(aI,a[aI])+";"}}}return this.each(function(){this.style.cssText+=";"+e})},index:function(a){return a?this.indexOf(aw(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){if(!a){return false}return am.some.call(this,function(b){return this.test(ag(b))},ai(a))},addClass:function(a){if(!a){return this}return this.each(function(d){a2=[];var b=ag(this),c=aK(this,a,d,b);c.split(/\s+/g).forEach(function(e){if(!aw(this).hasClass(e)){a2.push(e)}},this);a2.length&&ag(this,b+(b?" ":"")+a2.join(" "))})},removeClass:function(a){return this.each(function(b){if(a===aP){return ag(this,"")}a2=ag(this);aK(this,a,b,a2).split(/\s+/g).forEach(function(c){a2=a2.replace(ai(c)," ")});ag(this,a2.trim())})},toggleClass:function(a,b){if(!a){return this}return this.each(function(e){var c=aw(this),d=aK(this,a,e,ag(this));d.split(/\s+/g).forEach(function(f){(b===aP?!c.hasClass(f):b)?c.addClass(f):c.removeClass(f)})})},scrollTop:function(a){if(!this.length){return}var b="scrollTop" in this[0];if(a===aP){return b?this[0].scrollTop:this[0].pageYOffset}return this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})},scrollLeft:function(a){if(!this.length){return}var b="scrollLeft" in this[0];if(a===aP){return b?this[0].scrollLeft:this[0].pageXOffset}return this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})},position:function(){if(!this.length){return}var b=this[0],c=this.offsetParent(),a=this.offset(),d=ar.test(c[0].nodeName)?{top:0,left:0}:c.offset();a.top-=parseFloat(aw(b).css("margin-top"))||0;a.left-=parseFloat(aw(b).css("margin-left"))||0;d.top+=parseFloat(aw(c[0]).css("border-top-width"))||0;d.left+=parseFloat(aw(c[0]).css("border-left-width"))||0;return{top:a.top-d.top,left:a.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||aV.body;while(a&&!ar.test(a.nodeName)&&aw(a).css("position")=="static"){a=a.offsetParent}return a})}};aw.fn.detach=aw.fn.remove;["width","height"].forEach(function(a){var b=a.replace(/./,function(c){return c[0].toUpperCase()});aw.fn[a]=function(d){var c,e=this[0];if(d===aP){if(ao(e)){return au(b)}else{return aF(e)?e.documentElement["scroll"+b]:(c=this.offset())&&c[a]}}else{return this.each(function(f){e=aw(this);e.css(a,aK(this,d,f,e[a]()))})}}});var au=function(e){var c;var d=e.toLowerCase();var f=window.document;var a=f.documentElement;if(window["inner"+e]===aP){c=a["client"+e]}else{if(window["inner"+e]!=a["client"+e]){var b=f.createElement("body");b.id="vpw-test-b";b.style.cssText="overflow:scroll";var g=f.createElement("div");g.id="vpw-test-d";g.style.cssText="position:absolute;top:-1000px";g.innerHTML="<style>@media("+d+":"+a["client"+e]+"px){body#vpw-test-b div#vpw-test-d{"+d+":7px!important}}</style>";b.appendChild(g);a.insertBefore(b,f.head);if(g["offset"+e]==7){c=a["client"+e]}else{c=window["inner"+e]}a.removeChild(b)}else{c=window["inner"+e]}}return c};function a0(a,c){c(a);for(var b=0,d=a.childNodes.length;b<d;b++){a0(a.childNodes[b],c)}}aD.forEach(function(a,b){var c=b%2;aw.fn[a]=function(){var g,f=aw.map(arguments,function(h){g=aC(h);return g=="object"||g=="array"||h==null?h:aZ.fragment(h)}),e,d=this.length>1;if(f.length<1){return this}return this.each(function(j,i){e=c?i:i.parentNode;i=b==0?i.nextSibling:b==1?i.firstChild:b==2?i:null;var h=aw.contains(aV.documentElement,e);f.forEach(function(k){if(d){k=k.cloneNode(true)}else{if(!e){return aw(k).remove()}}e.insertBefore(k,i);if(h){a0(k,function(l){if(l.nodeName!=null&&l.nodeName.toUpperCase()==="SCRIPT"&&(!l.type||l.type==="text/javascript")&&!l.src){window["eval"].call(window,l.innerHTML)}})}})})};aw.fn[c?a+"To":"insert"+(b?"Before":"After")]=function(d){aw(d)[a](this);return this}});aZ.Z.prototype=aw.fn;aZ.uniq=aj;aZ.deserializeValue=aT;aw.zepto=aZ;return aw})();window.Zepto=Zepto;window.$===undefined&&(window.$=Zepto);(function(V){var T=1,R,F=Array.prototype.slice,Z=V.isFunction,O=function(a){return typeof a=="string"},G={},K={},S="onfocusin" in window,J={focus:"focusin",blur:"focusout"},B={mouseenter:"mouseover",mouseleave:"mouseout"};K.click=K.mousedown=K.mouseup=K.mousemove="MouseEvents";function Y(a){return a._zid||(a._zid=T++)}function N(a,d,e,c){d=I(d);if(d.ns){var b=C(d.ns)}return(G[Y(a)]||[]).filter(function(f){return f&&(!d.e||f.e==d.e)&&(!d.ns||b.test(f.ns))&&(!e||Y(f.fn)===Y(e))&&(!c||f.sel==c)})}function I(b){var a=(""+b).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function C(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function P(b,a){return b.del&&(!S&&(b.e in J))||!!a}function D(a){return B[a]||(S&&J[a])||a}function L(b,g,a,c,d,f,h){var e=Y(b),i=(G[e]||(G[e]=[]));g.split(/\s/).forEach(function(k){if(k=="ready"){return V(document).ready(a)}var l=I(k);l.fn=a;l.sel=d;if(l.e in B){a=function(n){var m=n.relatedTarget;if(!m||(m!==this&&!V.contains(this,m))){return l.fn.apply(this,arguments)}}}l.del=f;var j=f||a;l.proxy=function(n){n=A(n);if(n.isImmediatePropagationStopped()){return}n.data=c;var m=j.apply(b,n._args==R?[n]:[n].concat(n._args));if(m===false){n.preventDefault(),n.stopPropagation()}return m};l.i=i.length;i.push(l);if("addEventListener" in b){b.addEventListener(D(l.e),l.proxy,P(l,h))}})}function z(e,f,c,d,a){var b=Y(e);(f||"").split(/\s/).forEach(function(g){N(e,g,c,d).forEach(function(h){delete G[b][h.i];if("removeEventListener" in e){e.removeEventListener(D(h.e),h.proxy,P(h,a))}})})}V.event={add:L,remove:z};V.proxy=function(c,d){var a=(2 in arguments)&&F.call(arguments,2);if(Z(c)){var b=function(){return c.apply(d,a?a.concat(F.call(arguments)):arguments)};b._zid=Y(c);return b}else{if(O(d)){if(a){a.unshift(c[d],c);return V.proxy.apply(null,a)}else{return V.proxy(c[d],c)}}else{throw new TypeError("expected function")}}};V.fn.bind=function(b,a,c){return this.on(b,a,c)};V.fn.unbind=function(b,a){return this.off(b,a)};V.fn.one=function(a,c,d,b){return this.on(a,c,d,b,1)};var E=function(){return true},Q=function(){return false},U=/^([A-Z]|returnValue$|layer[XY]$)/,M={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function A(b,a){if(a||!b.isDefaultPrevented){a||(a=b);V.each(M,function(d,e){var c=a[d];b[d]=function(){this[e]=E;return c&&c.apply(a,arguments)};b[e]=Q});if(a.defaultPrevented!==R?a.defaultPrevented:"returnValue" in a?a.returnValue===false:a.getPreventDefault&&a.getPreventDefault()){b.isDefaultPrevented=E}}return b}function X(c){var a,b={originalEvent:c};for(a in c){if(!U.test(a)&&c[a]!==R){b[a]=c[a]}}return A(b,c)}V.fn.delegate=function(b,a,c){return this.on(a,b,c)};V.fn.undelegate=function(b,a,c){return this.off(a,b,c)};V.fn.live=function(b,a){V(document.body).delegate(this.selector,b,a);return this};V.fn.die=function(b,a){V(document.body).undelegate(this.selector,b,a);return this};V.fn.on=function(e,g,d,b,f){var h,a,c=this;if(e&&!O(e)){V.each(e,function(i,j){c.on(i,g,d,j,f)});return c}if(!O(g)&&!Z(b)&&b!==false){b=d,d=g,g=R}if(Z(d)||d===false){b=d,d=R}if(b===false){b=Q}return c.each(function(j,i){if(f){h=function(k){z(i,k.type,b);return b.apply(this,arguments)}}if(g){a=function(k){var m,l=V(k.target).closest(g,i).get(0);if(l&&l!==i){m=V.extend(X(k),{currentTarget:l,liveFired:i});return(h||b).apply(l,[m].concat(F.call(arguments,1)))}}}L(i,e,b,d,g,a||h)})};V.fn.off=function(a,c,b){var d=this;if(a&&!O(a)){V.each(a,function(e,f){d.off(e,c,f)});return d}if(!O(c)&&!Z(b)&&b!==false){b=c,c=R}if(b===false){b=Q}return d.each(function(){z(this,a,b,c)})};V.fn.trigger=function(a,b){a=(O(a)||V.isPlainObject(a))?V.Event(a):A(a);a._args=b;return this.each(function(){if("dispatchEvent" in this){this.dispatchEvent(a)}else{V(this).triggerHandler(a,b)}})};V.fn.triggerHandler=function(d,a){var c,b;this.each(function(e,f){c=X(O(d)?V.Event(d):d);c._args=a;c.target=f;V.each(N(f,d.type||d),function(h,g){b=g.proxy(c);if(c.isImmediatePropagationStopped()){return false}})});return b};("focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error").split(" ").forEach(function(a){V.fn[a]=function(b){return b?this.bind(a,b):this.trigger(a)}});["focus","blur"].forEach(function(a){V.fn[a]=function(b){if(b){this.bind(a,b)}else{this.each(function(){try{this[a]()}catch(c){}})}return this}});V.Event=function(d,e){if(!O(d)){e=d,d=e.type}var b=document.createEvent(K[d]||"Events"),c=true;if(e){for(var a in e){(a=="bubbles")?(c=!!e[a]):(b[a]=e[a])}}b.initEvent(d,c,true);return A(b)}})(Zepto);(function($){var jsonpID=0,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;function triggerAndReturn(context,eventName,data){var event=$.Event(eventName);$(context).trigger(event,data);return !event.isDefaultPrevented()}function triggerGlobal(settings,context,eventName,data){if(settings.global){return triggerAndReturn(context||document,eventName,data)}}$.active=0;function ajaxStart(settings){if(settings.global&&$.active++===0){triggerGlobal(settings,null,"ajaxStart")}}function ajaxStop(settings){if(settings.global&&!(--$.active)){triggerGlobal(settings,null,"ajaxStop")}}function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false||triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])===false){return false}triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings,deferred){var context=settings.context,status="success";settings.success.call(context,data,status,xhr);if(deferred){deferred.resolveWith(context,[data,status,xhr])}triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]);ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings,deferred){var context=settings.context;settings.error.call(context,xhr,type,error);if(deferred){deferred.rejectWith(context,[xhr,type,error])}triggerGlobal(settings,context,"ajaxError",[xhr,settings,error||type]);ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status);triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]);ajaxStop(settings)}function empty(){}$.ajaxJSONP=function(options,deferred){if(!("type" in options)){return $.ajax(options)}var _callbackName=options.jsonpCallback,callbackName=($.isFunction(_callbackName)?_callbackName():_callbackName)||("jsonp"+(++jsonpID)),script=document.createElement("script"),originalCallback=window[callbackName],responseData,abort=function(errorType){$(script).triggerHandler("error",errorType||"abort")},xhr={abort:abort},abortTimeout;if(deferred){deferred.promise(xhr)}$(script).on("load error",function(e,errorType){clearTimeout(abortTimeout);$(script).off().remove();if(e.type=="error"||!responseData){ajaxError(null,errorType||"error",xhr,options,deferred)}else{ajaxSuccess(responseData[0],xhr,options,deferred)}window[callbackName]=originalCallback;if(responseData&&$.isFunction(originalCallback)){originalCallback(responseData[0])}originalCallback=responseData=undefined});if(ajaxBeforeSend(xhr,options)===false){abort("abort");return xhr}window[callbackName]=function(){responseData=arguments};script.src=options.url.replace(/\?(.+)=\?/,"?$1="+callbackName);document.head.appendChild(script);if(options.timeout>0){abortTimeout=setTimeout(function(){abort("timeout")},options.timeout)}return xhr};$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:true,xhr:function(){return new window.XMLHttpRequest()},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:false,timeout:0,processData:true,cache:true};function mimeToDataType(mime){if(mime){mime=mime.split(";",2)[0]}return mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){if(query==""){return url}return(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){if(options.processData&&options.data&&$.type(options.data)!="string"){options.data=$.param(options.data,options.traditional)}if(options.data&&(!options.type||options.type.toUpperCase()=="GET")){options.url=appendQuery(options.url,options.data),options.data=undefined}}$.ajax=function(options){var settings=$.extend({},options||{}),deferred=$.Deferred&&$.Deferred();for(key in $.ajaxSettings){if(settings[key]===undefined){settings[key]=$.ajaxSettings[key]}}ajaxStart(settings);if(!settings.crossDomain){settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host}if(!settings.url){settings.url=window.location.toString()}serializeData(settings);var dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url);if(hasPlaceholder){dataType="jsonp"}if(settings.cache===false||((!options||options.cache!==true)&&("script"==dataType||"jsonp"==dataType))){settings.url=appendQuery(settings.url,"_="+Date.now())}if("jsonp"==dataType){if(!hasPlaceholder){settings.url=appendQuery(settings.url,settings.jsonp?(settings.jsonp+"=?"):settings.jsonp===false?"":"callback=?")}return $.ajaxJSONP(settings,deferred)}var mime=settings.accepts[dataType],headers={},setHeader=function(name,value){headers[name.toLowerCase()]=[name,value]},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),nativeSetHeader=xhr.setRequestHeader,abortTimeout;if(deferred){deferred.promise(xhr)}if(!settings.crossDomain){setHeader("X-Requested-With","XMLHttpRequest")}setHeader("Accept",mime||"*/*");if(mime=settings.mimeType||mime){if(mime.indexOf(",")>-1){mime=mime.split(",",2)[0]}xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||(settings.contentType!==false&&settings.data&&settings.type.toUpperCase()!="GET")){setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded")}if(settings.headers){for(name in settings.headers){setHeader(name,settings.headers[name])}}xhr.setRequestHeader=setHeader;xhr.onreadystatechange=function(){if(xhr.readyState==4){xhr.onreadystatechange=empty;clearTimeout(abortTimeout);var result,error=false;if((xhr.status>=200&&xhr.status<300)||xhr.status==304||(xhr.status==0&&protocol=="file:")){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type"));result=xhr.responseText;try{if(dataType=="script"){(1,eval)(result)}else{if(dataType=="xml"){result=xhr.responseXML}else{if(dataType=="json"){result=blankRE.test(result)?null:$.parseJSON(result)}}}}catch(e){error=e}if(error){ajaxError(error,"parsererror",xhr,settings,deferred)}else{ajaxSuccess(result,xhr,settings,deferred)}}else{ajaxError(xhr.statusText||null,xhr.status?"error":"abort",xhr,settings,deferred)}}};if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();ajaxError(null,"abort",xhr,settings,deferred);return xhr}if(settings.xhrFields){for(name in settings.xhrFields){xhr[name]=settings.xhrFields[name]}}var async="async" in settings?settings.async:true;xhr.open(settings.type,settings.url,async,settings.username,settings.password);for(name in headers){nativeSetHeader.apply(xhr,headers[name])}if(settings.timeout>0){abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,"timeout",xhr,settings,deferred)},settings.timeout)}xhr.send(settings.data?settings.data:null);return xhr};function parseArguments(url,data,success,dataType){if($.isFunction(data)){dataType=success,success=data,data=undefined}if(!$.isFunction(success)){dataType=success,success=undefined}return{url:url,data:data,success:success,dataType:dataType}}$.get=function(){return $.ajax(parseArguments.apply(null,arguments))};$.post=function(){var options=parseArguments.apply(null,arguments);options.type="POST";return $.ajax(options)};$.getJSON=function(){var options=parseArguments.apply(null,arguments);options.dataType="json";return $.ajax(options)};$.fn.load=function(url,data,success){if(!this.length){return this}var self=this,parts=url.split(/\s/),selector,options=parseArguments(url,data,success),callback=options.success;if(parts.length>1){options.url=parts[0],selector=parts[1]}options.success=function(response){self.html(selector?$("<div>").html(response.replace(rscript,"")).find(selector):response);callback&&callback.apply(self,arguments)};$.ajax(options);return this};var escape=encodeURIComponent;function serialize(params,obj,traditional,scope){var type,array=$.isArray(obj),hash=$.isPlainObject(obj);$.each(obj,function(key,value){type=$.type(value);if(scope){key=traditional?scope:scope+"["+(hash||type=="object"||type=="array"?key:"")+"]"}if(!scope&&array){params.add(value.name,value.value)}else{if(type=="array"||(!traditional&&type=="object")){serialize(params,value,traditional,key)}else{params.add(key,value)}}})}$.param=function(obj,traditional){var params=[];params.add=function(k,v){this.push(escape(k)+"="+escape(v))};serialize(params,obj,traditional);return params.join("&").replace(/%20/g,"+")}})(Zepto);(function(b){b.fn.serializeArray=function(){var a=[],d;b([].slice.call(this.get(0).elements)).each(function(){d=b(this);var c=d.attr("type");if(this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&c!="submit"&&c!="reset"&&c!="button"&&((c!="radio"&&c!="checkbox")||this.checked)){a.push({name:d.attr("name"),value:d.val()})}});return a};b.fn.serialize=function(){var a=[];this.serializeArray().forEach(function(d){a.push(encodeURIComponent(d.name)+"="+encodeURIComponent(d.value))});return a.join("&")};b.fn.submit=function(d){if(d){this.bind("submit",d)}else{if(this.length){var a=b.Event("submit");this.eq(0).trigger(a);if(!a.isDefaultPrevented()){this.get(0).submit()}}}return this}})(Zepto);(function(d){if(!("__proto__" in {})){d.extend(d.zepto,{Z:function(a,b){a=a||[];d.extend(a,d.fn);a.selector=b||"";a.__Z=true;return a},isZ:function(a){return d.type(a)==="array"&&"__Z" in a}})}try{getComputedStyle(undefined)}catch(f){var e=getComputedStyle;window.getComputedStyle=function(b){try{return e(b)}catch(a){return null}}}})(Zepto);(function(b){b.extend(b.fn,{cookie:function(a,n,m){var l,k,j,i;if(arguments.length>1&&String(n)!=="[object Object]"){m=b.extend({},m);if(n===null||n===undefined){m.expires=-1}return typeof m.expires=="number"&&(l=m.expires*24*60*60*1000,k=m.expires=new Date,k.setTime(k.getTime()+l)),n=String(n),document.cookie=[encodeURIComponent(a),"=",m.raw?n:encodeURIComponent(n),m.expires?"; expires="+m.expires.toUTCString():"",m.path?"; path="+m.path:"",m.domain?"; domain="+m.domain:"",m.secure?"; secure":""].join("")}return m=n||{},i=m.raw?function(c){return c}:decodeURIComponent,(j=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)")).exec(document.cookie))?i(j[1]):null}})})(Zepto);var getQueryString=function(d){var f=decodeURIComponent(location.search.slice(1));if(f!=""){var c=f.split("&");for(var e=0,a=c.length,b;e<a;e++){b=c[e].split("=");if(b[0]===d){return b[1]}}return""}return""};var getResult=function(b,e,f,c,a){var d=getQueryString("dev");if(d||(localStorage&&localStorage.dev)){localStorage&&(localStorage.dev=true);typeof window[f]=="function"&&window[f](window[f+"Data"]);return}if(c){showLoading(a)}$.ajax({type:"GET",async:false,url:domain_url+b,data:e,dataType:"jsonp",jsonp:f,complete:function(){if(c){hideLoading(a)}},success:function(g){}})};var simpleTpl=function(a){a=$.isArray(a)?a.join(""):(a||"");return{store:a,_:function(){var b=this;$.each(arguments,function(c,d){b.store+=d});return this},toString:function(){return this.store}}};var showLoading=function(f){var c=simpleTpl(),f=f||$("body"),e=f?f.find(".spinner"):$("body").children(".spinner");if(e.length>0){e.show()}else{c._('<div class="spinner">')._('<div class="spinner-wrapper">')._('<div class="spinner-container container1">')._('<div class="circle1"></div>')._('<div class="circle2"></div>')._('<div class="circle3"></div>')._('<div class="circle4"></div>')._("</div>")._('<div class="spinner-container container2">')._('<div class="circle1"></div>')._('<div class="circle2"></div>')._('<div class="circle3"></div>')._('<div class="circle4"></div>')._("</div>")._('<div class="spinner-container container3">')._('<div class="circle1"></div>')._('<div class="circle2"></div>')._('<div class="circle3"></div>')._('<div class="circle4"></div>')._("</div>")._("</div>")._("</div>");var d=$(window).width(),a=$(window).height(),b=50;e=$(c.toString()).css({left:(d-b)/2,top:(a-b)/2});f.append(e)}};var hideLoading=function(a){if(a){a.find(".spinner").hide()}else{$("body").children(".spinner").hide()}$(".copyright").removeClass("hidden")};var imgReady=(function(){var d=[],c=null,b=function(){var e=0;for(;e<d.length;e++){d[e].end?d.splice(e--,1):d[e]()}!d.length&&a()},a=function(){clearInterval(c);c=null};return function(f,k,m,j){var l,g,n,i,e,h=new Image();h.src=f;if(h.complete){k.call(h);m&&m.call(h);return}g=h.width;n=h.height;h.onerror=function(){j&&j.call(h);l.end=true;h=h.onload=h.onerror=null};l=function(){i=h.width;e=h.height;if(i!==g||e!==n||i*e>1024){k.call(h);l.end=true}};l();h.onload=function(){!l.end&&l();m&&m.call(h);h=h.onload=h.onerror=null};if(!l.end){d.push(l);if(c===null){c=setInterval(b,40)}}}})();function __ns(fullNs){var nsArray=fullNs.split(".");var evalStr="";var ns="";for(var i=0,l=nsArray.length;i<l;i++){i!==0&&(ns+=".");ns+=nsArray[i];evalStr+="( typeof "+ns+' === "undefined" && ('+ns+" = {}) );"}evalStr!==""&&eval(evalStr)}var __noop=function(){};var W=W||window;__ns("H");var hexcase=0;function hex_md5(b){return rstr2hex(rstr_md5(str2rstr_utf8(b)))}function hex_hmac_md5(d,c){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(d),str2rstr_utf8(c)))}function md5_vm_test(){return hex_md5("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"}function rstr_md5(b){return binl2rstr(binl_md5(rstr2binl(b),b.length*8))}function rstr_hmac_md5(n,k){var l=rstr2binl(n);if(l.length>16){l=binl_md5(l,n.length*8)}var i=Array(16),m=Array(16);for(var h=0;h<16;h++){i[h]=l[h]^909522486;m[h]=l[h]^1549556828}var j=binl_md5(i.concat(rstr2binl(k)),512+k.length*8);return binl2rstr(binl_md5(m.concat(j),512+128))}function rstr2hex(l){try{hexcase}catch(i){hexcase=0}var j=hexcase?"0123456789ABCDEF":"0123456789abcdef";var e="";var h;for(var k=0;k<l.length;k++){h=l.charCodeAt(k);e+=j.charAt((h>>>4)&15)+j.charAt(h&15)}return e}function str2rstr_utf8(j){var f="";var i=-1;var g,h;while(++i<j.length){g=j.charCodeAt(i);h=i+1<j.length?j.charCodeAt(i+1):0;if(55296<=g&&g<=56319&&56320<=h&&h<=57343){g=65536+((g&1023)<<10)+(h&1023);i++}if(g<=127){f+=String.fromCharCode(g)}else{if(g<=2047){f+=String.fromCharCode(192|((g>>>6)&31),128|(g&63))}else{if(g<=65535){f+=String.fromCharCode(224|((g>>>12)&15),128|((g>>>6)&63),128|(g&63))}else{if(g<=2097151){f+=String.fromCharCode(240|((g>>>18)&7),128|((g>>>12)&63),128|((g>>>6)&63),128|(g&63))}}}}}return f}function rstr2binl(d){var e=Array(d.length>>2);for(var f=0;f<e.length;f++){e[f]=0}for(var f=0;f<d.length*8;f+=8){e[f>>5]|=(d.charCodeAt(f/8)&255)<<(f%32)}return e}function binl2rstr(d){var e="";for(var f=0;f<d.length*32;f+=8){e+=String.fromCharCode((d[f>>5]>>>(f%32))&255)}return e}function binl_md5(a,q){a[q>>5]|=128<<((q)%32);a[(((q+64)>>>9)<<4)+14]=q;var b=1732584193;var c=-271733879;var d=-1732584194;var i=271733878;for(var t=0;t<a.length;t+=16){var r=b;var s=c;var u=d;var v=i;b=md5_ff(b,c,d,i,a[t+0],7,-680876936);i=md5_ff(i,b,c,d,a[t+1],12,-389564586);d=md5_ff(d,i,b,c,a[t+2],17,606105819);c=md5_ff(c,d,i,b,a[t+3],22,-1044525330);b=md5_ff(b,c,d,i,a[t+4],7,-176418897);i=md5_ff(i,b,c,d,a[t+5],12,1200080426);d=md5_ff(d,i,b,c,a[t+6],17,-1473231341);c=md5_ff(c,d,i,b,a[t+7],22,-45705983);b=md5_ff(b,c,d,i,a[t+8],7,1770035416);i=md5_ff(i,b,c,d,a[t+9],12,-1958414417);d=md5_ff(d,i,b,c,a[t+10],17,-42063);c=md5_ff(c,d,i,b,a[t+11],22,-1990404162);b=md5_ff(b,c,d,i,a[t+12],7,1804603682);i=md5_ff(i,b,c,d,a[t+13],12,-40341101);d=md5_ff(d,i,b,c,a[t+14],17,-1502002290);c=md5_ff(c,d,i,b,a[t+15],22,1236535329);b=md5_gg(b,c,d,i,a[t+1],5,-165796510);i=md5_gg(i,b,c,d,a[t+6],9,-1069501632);d=md5_gg(d,i,b,c,a[t+11],14,643717713);c=md5_gg(c,d,i,b,a[t+0],20,-373897302);b=md5_gg(b,c,d,i,a[t+5],5,-701558691);i=md5_gg(i,b,c,d,a[t+10],9,38016083);d=md5_gg(d,i,b,c,a[t+15],14,-660478335);c=md5_gg(c,d,i,b,a[t+4],20,-405537848);b=md5_gg(b,c,d,i,a[t+9],5,568446438);i=md5_gg(i,b,c,d,a[t+14],9,-1019803690);d=md5_gg(d,i,b,c,a[t+3],14,-187363961);c=md5_gg(c,d,i,b,a[t+8],20,1163531501);b=md5_gg(b,c,d,i,a[t+13],5,-1444681467);i=md5_gg(i,b,c,d,a[t+2],9,-51403784);d=md5_gg(d,i,b,c,a[t+7],14,1735328473);c=md5_gg(c,d,i,b,a[t+12],20,-1926607734);b=md5_hh(b,c,d,i,a[t+5],4,-378558);i=md5_hh(i,b,c,d,a[t+8],11,-2022574463);d=md5_hh(d,i,b,c,a[t+11],16,1839030562);c=md5_hh(c,d,i,b,a[t+14],23,-35309556);b=md5_hh(b,c,d,i,a[t+1],4,-1530992060);i=md5_hh(i,b,c,d,a[t+4],11,1272893353);d=md5_hh(d,i,b,c,a[t+7],16,-155497632);c=md5_hh(c,d,i,b,a[t+10],23,-1094730640);b=md5_hh(b,c,d,i,a[t+13],4,681279174);i=md5_hh(i,b,c,d,a[t+0],11,-358537222);d=md5_hh(d,i,b,c,a[t+3],16,-722521979);c=md5_hh(c,d,i,b,a[t+6],23,76029189);b=md5_hh(b,c,d,i,a[t+9],4,-640364487);i=md5_hh(i,b,c,d,a[t+12],11,-421815835);d=md5_hh(d,i,b,c,a[t+15],16,530742520);c=md5_hh(c,d,i,b,a[t+2],23,-995338651);b=md5_ii(b,c,d,i,a[t+0],6,-198630844);i=md5_ii(i,b,c,d,a[t+7],10,1126891415);d=md5_ii(d,i,b,c,a[t+14],15,-1416354905);c=md5_ii(c,d,i,b,a[t+5],21,-57434055);b=md5_ii(b,c,d,i,a[t+12],6,1700485571);i=md5_ii(i,b,c,d,a[t+3],10,-1894986606);d=md5_ii(d,i,b,c,a[t+10],15,-1051523);c=md5_ii(c,d,i,b,a[t+1],21,-2054922799);b=md5_ii(b,c,d,i,a[t+8],6,1873313359);i=md5_ii(i,b,c,d,a[t+15],10,-30611744);d=md5_ii(d,i,b,c,a[t+6],15,-1560198380);c=md5_ii(c,d,i,b,a[t+13],21,1309151649);b=md5_ii(b,c,d,i,a[t+4],6,-145523070);i=md5_ii(i,b,c,d,a[t+11],10,-1120210379);d=md5_ii(d,i,b,c,a[t+2],15,718787259);c=md5_ii(c,d,i,b,a[t+9],21,-343485551);b=safe_add(b,r);c=safe_add(c,s);d=safe_add(d,u);i=safe_add(i,v)}return Array(b,c,d,i)}function md5_cmn(a,j,k,l,b,i){return safe_add(bit_rol(safe_add(safe_add(j,a),safe_add(l,i)),b),k)}function md5_ff(l,m,a,b,n,c,d){return md5_cmn((m&a)|((~m)&b),l,m,n,c,d)}function md5_gg(l,m,a,b,n,c,d){return md5_cmn((m&b)|(a&(~b)),l,m,n,c,d)}function md5_hh(l,m,a,b,n,c,d){return md5_cmn(m^a^b,l,m,n,c,d)}function md5_ii(l,m,a,b,n,c,d){return md5_cmn(a^(m|(~b)),l,m,n,c,d)}function safe_add(f,g){var h=(f&65535)+(g&65535);var e=(f>>16)+(g>>16)+(h>>16);return(e<<16)|(h&65535)}function bit_rol(d,c){return(d<<c)|(d>>>(32-c))}(function($){$.fn.wx=function(option){var $wx=$(this);var opts=$.extend({},$.fn.wx.defaults,option);document.addEventListener("WeixinJSBridgeReady",function(){window.G_WEIXIN_READY=true},false);function CallWeiXinAPI(fn,count){var total=2000;count=count||0;if(true===window.G_WEIXIN_READY||("WeixinJSBridge" in window)){fn.apply(null,[])}else{if(count<=total){setTimeout(function(){CallWeiXinAPI(fn,count++)},15)}}}var _unit={execHandler:function(handler){if(handler&&handler instanceof Object){var callback=handler.callback||null;var args=handler.args||[];var context=handler.context||null;var delay=handler.delay||-1;if(callback&&callback instanceof Function){if(typeof(delay)=="number"&&delay>=0){setTimeout(function(){callback.apply(context,args)},delay)}else{callback.apply(context,args)}}}},execAfterMergerHandler:function(handler,_args){if(handler&&handler instanceof Object){var args=handler.args||[];handler.args=_args.concat(args)}this.execHandler(handler)},addOpenid:function(index){var url=this.getUrl(index);if(url.indexOf("resopenid=")>0){url=this.replaceParamVal("resopenid",hex_md5(openid),index)}else{if(url.indexOf(".html?")>0){url=url+"&resopenid="+hex_md5(openid)}else{url=url+"?resopenid="+hex_md5(openid)}}return url},replaceParamVal:function(paramName,replaceWith,index){var oUrl=this.getUrl(index).toString();var re=eval("/("+paramName+"=)([^&]*)/gi");var nUrl=oUrl.replace(re,paramName+"="+replaceWith);return nUrl},getUrl:function(index){var href=window.location.href;if(index){href=href.substr(0,href.lastIndexOf("/")+1)+"index.html"}return href}};var _api={Share:{timeline:function(options,handler){CallWeiXinAPI(function(){WeixinJSBridge.on("menu:share:timeline",function(argv){WeixinJSBridge.invoke("shareTimeline",options,function(res){_unit.execAfterMergerHandler(handler,[res,"timeline"])})})})},message:function(options,handler){CallWeiXinAPI(function(){WeixinJSBridge.on("menu:share:appmessage",function(argv){WeixinJSBridge.invoke("sendAppMessage",options,function(res){_unit.execAfterMergerHandler(handler,[res,"message"])})})})}},setOptionMenu:function(visible,handler){CallWeiXinAPI(function(){if(true===visible){WeixinJSBridge.call("showOptionMenu")}else{WeixinJSBridge.call("hideOptionMenu")}_unit.execAfterMergerHandler(handler,[visible])})}};var opt={img_url:opts.img_url,img_width:180,img_height:180,link:opts.url,desc:opts.desc,title:opts.title};handler={callback:function(res,type){opts.callback&&opts.callback(res,type)}};_api.Share.timeline(opt,handler);_api.Share.message(opt,handler);return $wx};$.fn.wx.defaults={title:"",desc:"",link:document.URL,img:""};$.fn.wx.version="1.0.0"})(Zepto);(function(a){H.index={init:function(){H.utils.resize();H.weixin.init()}};H.sign={init:function(){H.utils.resize();H.weixin.init();getResult("live/activity/sign",{ac:activity_code,oi:openid},"callbackLiveActivitySign",true)}};H.lottery={$wrapper:a("#wrapper"),$title:a("#title"),$detail:a("#detail"),$prize:a("#prize"),step:parseInt(getQueryString("step")),expires:{expires:7},init:function(){H.utils.resize();H.weixin.init();var b=parseInt(a.fn.cookie("result")),d=parseInt(a.fn.cookie("result-c-"+this.step)),f=a.fn.cookie("result-pn-"+this.step),c=a.fn.cookie("result-pp-"+this.step);if(!b&&isNaN(d)){this.start()}else{var e={lottery_code:isNaN(d)?2:d,pn:f,pp:c};this.update(e)}},rate:function(){var b=parseInt(Math.random()*100)+1;return parseInt(lottery_rate)>=b},start:function(){getResult("live/activity/lottery",{ac:activity_code,oi:openid,si:this.step},"callbackLiveActivityLottery",true)},update:function(b){a.fn.cookie("result-c-"+this.step,b.lottery_code,this.expires);this.$wrapper.attr("class","wrapper");if(!b.lottery_code||b.lottery_code!=1){return}else{a.fn.cookie("result",1,this.expires)}a.fn.cookie("result-pn-"+this.step,b.pn?b.pn:"",this.expires);a.fn.cookie("result-pp-"+this.step,b.pp?b.pp:"",this.expires);this.$title.text("恭喜您中奖");this.$detail.text(b.pn);this.$wrapper.addClass("pp");this.$prize.html('<img src="'+b.pp+'" />')}};H.weixin={init:function(){a(document).wx({img_url:share_img,desc:share_desc,title:share_title,url:share_url})}};H.utils={$main:a("#main"),resize:function(){var e=this,d=a(window).width(),b=a(window).height(),c="images/bg.jpg";this.$main.css("minHeight",b).css("height",b);showLoading();imgReady(c,function(){hideLoading();e.$main.css("background-image","url("+c+")")})}};W.callbackLiveActivitySign=function(b){};W.callbackLiveActivityLottery=function(b){H.lottery.update(b)}})(Zepto);H.index.init();
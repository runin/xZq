<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src='files/kawa.js'></script>
    <script type="text/javascript">
        initViewport();
        function initViewport() {
            if (/Android (\d+\.\d+)/.test(navigator.userAgent)) {
                var version = parseFloat(RegExp.$1);

                if (version > 2.3) {
                    var phoneScale = parseInt(window.screen.width) / 500;
                    document.write('<meta name="viewport" content="width=500, minimum-scale = ' + phoneScale + ', maximum-scale = ' + phoneScale + ', target-densitydpi=device-dpi">');

                }
                else {
                    document.write('<meta name="viewport" content="width=500, target-densitydpi=device-dpi">');
                }
            }
            else if (navigator.userAgent.indexOf('iPhone') != -1) {
                var phoneScale = parseInt(window.screen.width) / 500;
                document.write('<meta name="viewport" content="width=500, height=750,initial-scale=' + phoneScale + ', user-scalable=no" /> ');         //0.75   0.82
            }
            else {
                document.write('<meta name="viewport" content="width=500, height=750,initial-scale=0.64" /> ');         //0.75   0.82

            }
            document.write('<style>@-webkit-keyframes rotatemusic {from {-webkit-transform: rotate(0deg);}to { -webkit-transform: rotate(360deg);}}::-webkit-input-placeholder {color: #000;}</style>');

            if (navigator.userAgent.match(/iPad/i) == "ipad" || navigator.userAgent.match(/iPhone/i) == "iPhone") {
                document.ontouchmove = function (e) {
                    e.preventDefault();
                }
            }
        }
    </script>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <title>送给你</title>
    <style type="text/css">
        body{
            -webkit-touch-callout: none;
            -webkit-text-size-adjust: none;
            margin:0 auto;
            overflow:hidden;
            position:relative;
            background-color:black;
        }

        div#content{
            position:relative;
            border:0px;
            width:500px;
            height:750px;
            margin:0 auto;
            top:0px;
            overflow:hidden;
            clear:both;
        }
        #pAb8sD6JN-an-obj-1 {
            position:absolute;
            -webkit-transform: translate3d(-231px, 1px, 0px);
            width: 660px;
            height: 832px;
            top:0; left:0;
            -webkit-animation: ani-pAb8sD6JN-an-obj-1-0 4.9821s 0.0179s 1 linear normal both ;
        }

        @-webkit-keyframes ani-pAb8sD6JN-an-obj-1-0 {
            0% {
                -webkit-transform: translate3d(-1px, 1px, 0px) scale3d(1, 1, 1);
                -webkit-animation-timing-function:linear;
            }
            100% {
                -webkit-transform: translate3d(-127px, -41px, 0px) scale3d(0.91, 0.91, 1);
                -webkit-animation-timing-function:ease;
            }
        }

        #pAb8sD6JN-an-obj-2 {
            position:absolute;
            -webkit-transform: translate3d(46px, 89px, 0px);
            width: 660px;
            height: 832px;
            top:0; left:0;
            -webkit-animation: ani-pAb8sD6JN-an-obj-2-0 7s 3s 1 linear normal both ;
        }

        @-webkit-keyframes ani-pAb8sD6JN-an-obj-2-0 {
            0% {
                -webkit-transform: translate3d(-128px, -35px, 0px) scale3d(0.9, 0.9, 1);
                opacity: 0;
                -webkit-animation-timing-function:linear;
            }
            28.5714% {
                -webkit-transform: translate3d(-91px, -37px, 0px) scale3d(0.9, 0.9, 1);
                opacity: 1;
                -webkit-animation-timing-function:linear;
            }
            100% {
                -webkit-transform: translate3d(0px, 1px, 0px) scale3d(1, 1.01, 1);
                opacity: 1;
                -webkit-animation-timing-function:ease;
            }
        }

        #pAb8sD6JN-an-obj-3 {
            position:absolute;
            -webkit-transform: translate3d(0px, -3px, 0px);
            width: 660px;
            height: 832px;
            top:0; left:0;
            -webkit-animation: ani-pAb8sD6JN-an-obj-3-0 7s 8s 1 linear normal both ;
        }

        @-webkit-keyframes ani-pAb8sD6JN-an-obj-3-0 {
            0% {
                -webkit-transform: translate3d(-156px, -3px, 0px) scale3d(1, 1, 1);
                opacity: 0;
                -webkit-animation-timing-function:linear;
            }
            28.5714% {
                -webkit-transform: translate3d(-113px, -3px, 0px) scale3d(1, 1, 1);
                opacity: 1;
                -webkit-animation-timing-function:linear;
            }
            100% {
                -webkit-transform: translate3d(-38px, -45px, 0px) scale3d(0.9, 0.9, 1);
                opacity: 1;
                -webkit-animation-timing-function:linear;
            }
        }

        #pAb8sD6JN-an-obj-4 {
            position:absolute;
            -webkit-transform: translate3d(0px, 5px, 0px);
            width: 660px;
            height: 832px;
            top:0; left:0;
            -webkit-animation: ani-pAb8sD6JN-an-obj-4-0 7s 13s 1 linear normal both ;
        }

        @-webkit-keyframes ani-pAb8sD6JN-an-obj-4-0 {
            0% {
                -webkit-transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1);
                -webkit-animation-timing-function:linear;
                opacity: 0;
            }
            28.5714% {
                -webkit-transform: translate3d(-45px, 0px, 0px) scale3d(1, 1, 1);
                -webkit-animation-timing-function:linear;
                opacity: 1;
            }
            100% {
                -webkit-transform: translate3d(-128px, -45px, 0px) scale3d(0.9, 0.9, 1);
                -webkit-animation-timing-function:linear;
                opacity: 1;
            }
        }

        #pAb8sD6JN-an-obj-5 {
            position:absolute;
            -webkit-transform: translate3d(40px, 155px, 0px) scale3d(1, 1, 1);
            width: 243px;
            height: 289px;
            top:0; left:0;
            -webkit-animation: ani-pAb8sD6JN-an-obj-5-0 20s 0s 1 linear normal both ;
        }

        @-webkit-keyframes ani-pAb8sD6JN-an-obj-5-0 {
            0% {
                -webkit-transform: translate3d(40px, 275px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale3d(1, 1, 1);
                -webkit-animation-timing-function:linear;
                -webkit-transform-origin: 50% 50%;
            }
            25% {
                -webkit-transform: translate3d(114px, 89px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale3d(0.8, 0.8, 1);
                -webkit-animation-timing-function:linear;
                -webkit-transform-origin: 50% 50%;
            }
            37.5893% {
                -webkit-transform: translate3d(116px, 199px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale3d(0.8, 0.8, 1);
                -webkit-animation-timing-function:linear;
                -webkit-transform-origin: 50% 50%;
            }
            50% {
                -webkit-transform: translate3d(72px, 121px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-10deg) scale3d(0.8, 0.8, 1);
                -webkit-animation-timing-function:linear;
                -webkit-transform-origin: 50% 50%;
            }
            59.0179% {
                -webkit-transform: translate3d(112px, 63px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale3d(0.8, 0.8, 1);
                -webkit-animation-timing-function:linear;
                -webkit-transform-origin: 50% 50%;
            }
            74.9107% {
                -webkit-transform: translate3d(210px, -23px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-8deg) scale3d(0.6, 0.6, 1);
                -webkit-animation-timing-function:linear;
                -webkit-transform-origin: 50% 50%;
            }
            100% {
                -webkit-transform: translate3d(356px, -151px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(-8deg) scale3d(0.1, 0.1, 1);
                -webkit-animation-timing-function:linear;
                -webkit-transform-origin: 50% 50%;
            }
        }

        #pAb8sD6JN-an-obj-6 {
            position:absolute;
            width: 500px;
            height: 750px;
            top:0; left:0;
            -webkit-animation: fadeOut 2s 20s 1 linear normal both ;
        }

        #pAb8sD6JN-an-obj-7 {
            position:absolute;
            width: 500px;
            height: 750px;
            top:0; left:0;
            -webkit-animation: fadeOut 3s 22s infinite linear alternate both ;
        }

        @-webkit-keyframes fadeOut {
            0% {
                opacity: 0;
            }
            100%
            {
                opacity: 1;
            }
        }
        /* ------------ SYMBOL CSS -------------- */
        div#foot{
            position:fixed;
            left:320px;
            bottom:10px;
        }

    </style>


    <style type="text/css">
        .none {
            display: none !important;
        }

        .share-content {
            position: absolute;
            top: 0;
            left: 0;
            background: rgba(0, 0, 0, .6);
            width: 100%;
            height: 100%;
            z-index: 99999;
        }

        .share-content img {
            position: absolute;
            top: 0;
            right: 30px;
        }

        .share-btn {
            border-bottom: 1px solid rgba(0, 0, 0, 0.247059);
            text-shadow: rgba(0, 0, 0, 0.247059) 0px -1px 1px;
            box-shadow: rgba(0, 0, 0, 0.247059) 0px 1px 3px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            animation-iteration-count: infinite;
            animation-name: bluePulse;
            animation-duration: 3s;
            -webkit-animation-iteration-count: infinite;
            -webkit-animation-name: bluePulse;
            -webkit-animation-duration: 3s;
            padding: 8px 19px 9px;
            background-color: rgb(45, 174, 191);
            text-align: center;
            line-height: 30px;
            font-size: 22px;
            position: fixed;
            bottom: 20px;
            left: 135px;
            width: 200px;
            height: 30px;
            z-index: 10000;
            color: rgb(255, 255, 255) !important;
        }

        @-webkit-keyframes bluePulse {
            from {
                background-color: #007d9a;
                -webkit-box-shadow: 0 0 9px #333;
            }
            50% {
                background-color: #2daebf;
                -webkit-box-shadow: 0 0 18px #2daebf;
            }
            to {
                background-color: #007d9a;
                -webkit-box-shadow: 0 0 9px #333;
            }
        }
    </style>

</head>
<body onLoad="kawa_init();">
<script>
    words = '周末到了，工作压力繁琐事，放放；家人朋友和知己，聚聚；大好河山南北方，转转；放松身心真愉快，乐乐；祝朋友们了，工作压力繁琐事，放放；家人朋友和知己，聚聚；大好河山南北方，转转；放松身心真愉快，乐乐；祝朋友们:<br>周末快乐！<br><br>记得也发给好朋友们哦~';
    kawa_data = {
        words              : words,
        replace_words      : '#replace_words#',
        text_box           : '150 125 500 225', // 左 上 宽 高，空格分隔，只写数字，单位强制为px
        mode               : 'up',     // up, left
        speed              : 40,     // 每秒移动的像素
        text_color         : '#FFE888', // rgb(1,2,3) 'black'
        font_size          : '20pt',
        line_height        : '40pt',
        text_align         : 'center',
        font_weight        : 'bold',
        music              : 'files/always_with_me.mp3',     // url
        replace_music      : '#replace_music#',
        music_name         : '',
        replace_music_name : '#replace_music_name#',
        icon               : 'http://tu.kagirl.net/pic/9370/x9370.jpg',
        title              : '送给你',
        desc               : words,
        modify             : 'no',
        replace_modify     : 'yes',
        cardid             : '9370',
        share_url          : 'http://mp.weixin.qq.com/s?__biz=MjM5MDg0OTE0Mw==&mid=208796564&idx=1&sn=fc8e052ac393d7cef6cbaf1971917229#wechat_redirect',  // 当分享的是微信页面时才需要改这里
        font_ip            : '115.28.135.41:8000',
        modify_optfile     : 'xinqing',
        modify_optwords    : '#modify_optwords#',
        show_words         : 'yes',
        write_param_1      : 'inputtype=singleline&showsel=no&prompt=' + encodeURIComponent('输入对方的名字：')
    };
</script>

<div id="content">
    <div id="pAb8sD6JN-an-obj-1"><img  height="832" width="660"  src="files/11.jpg"></div>
    <div id="pAb8sD6JN-an-obj-2"><img  height="832" width="660"  src="files/2.jpg"></div>
    <div id="pAb8sD6JN-an-obj-3"><img  height="832" width="660"  src="files/3_1.jpg"></div>
    <div id="pAb8sD6JN-an-obj-4"><img  height="832" width="660"  src="files/4.jpg"></div>
    <div id="pAb8sD6JN-an-obj-5"><img  height="289" width="243"  src="files/qiqiu1.png"></div>
    <div id="pAb8sD6JN-an-obj-6"><img  height="750" width="500"  src="files/5.jpg"></div>
    <div id="pAb8sD6JN-an-obj-7"><img  height="750" width="500"  src="files/6.jpg"></div>
</div>


<a class="share-btn" id="share-btn">
    分享贺卡 祝福接力
</a>
<div class="share-content none" id="share-content">
    <img id="share" src="files/share.png">
</div>
</body>

<script src="https://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script src="../zepto.min.js"></script>
<script type="text/javascript">
    var btn = objid("share-btn");
    var content = objid("share-content");
    var share = objid("share");
    btn.onclick = function () {
        location.href = 'http://mp.weixin.qq.com/s?__biz=MzI4MjM1OTM0Mw==&mid=100000222&idx=1&sn=625dda844c7b01763b76773185265895&chksm=6b9a629e5cedeb88f5b7050331a1fc6fa672935b760c47a4ecd89fca4479ea1bc24c2e59a77d&mpshare=1&scene=1&srcid=09298AIhldJIybTk6xSeeqOg#wechat_redirect';
    };
    content.onclick = function () {
        content.className = "share-content none";
    };
    share.onclick = function (e) {
        e.stopPropagation();
    };
    var wxConfig = function () {
        //后台获取jsapi_ticket并wx.config
        $.ajax({
            type: "GET",
            url: "http://tttj.holdfun.cn/mpAccount/mobile/wx/apiTicket/wxb4196cbe04d66ab6/jsapi",
            data: {},
            async: true,
            dataType: "jsonp",
            jsonpCallback: "ApiTicketCallBackHandler",
            timeout: 15000,
            complete: function () {
            },
            success: function (data) {
                if (!data.result) {
                    return;
                }
                var url = window.location.href.split('#')[0];
                var nonceStr = 'df51d5cc9bc24d5e86d4ff92a9507361';
                var timestamp = Math.round(new Date().getTime() / 1000);
                var signature = hex_sha1('jsapi_ticket=' + data.apiTicket + '&noncestr=' + nonceStr + '&timestamp=' + timestamp + '&url=' + url);
                //权限校验
                wx.config({
                    debug: false,
                    appId: 'wxb4196cbe04d66ab6',
                    timestamp: timestamp,
                    nonceStr: nonceStr,
                    signature: signature,
                    jsApiList: [
                        'onMenuShareTimeline',
                        'onMenuShareAppMessage',
                        'hideAllNonBaseMenuItem',
                        'onMenuShareQQ',
                        'onMenuShareWeibo'
                    ]
                });

            },
            error: function (xmlHttpRequest, error) {
            }
        });
    };

    var configShare = function () {
        wx.onMenuShareAppMessage({
            title: '送给你', // 分享标题
            desc: '送上我的祝福，祝你平安快乐', // 分享描述
            link: location.href, // 分享链接
            imgUrl: 'http://cdn.holdfun.cn/tttj/mpAccount/resources/images/2016/09/30/ac156e4290504998918af8ddae81d64e.png', // 分享图标
            type: '', // 分享类型,music、video或link，不填默认为link
            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
            success: function () {
                // 用户确认分享后执行的回调函数
                location.href = 'http://mp.weixin.qq.com/s?__biz=MzI4MjM1OTM0Mw==&mid=100000222&idx=1&sn=625dda844c7b01763b76773185265895&chksm=6b9a629e5cedeb88f5b7050331a1fc6fa672935b760c47a4ecd89fca4479ea1bc24c2e59a77d&mpshare=1&scene=1&srcid=09298AIhldJIybTk6xSeeqOg#rd';
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
        wx.onMenuShareTimeline({
            title: '送给你', // 分享标题
            link: location.href, // 分享链接
            imgUrl: 'http://cdn.holdfun.cn/tttj/mpAccount/resources/images/2016/09/30/ac156e4290504998918af8ddae81d64e.png', // 分享图标
            success: function () {
                // 用户确认分享后执行的回调函数
                location.href = 'http://mp.weixin.qq.com/s?__biz=MzI4MjM1OTM0Mw==&mid=100000222&idx=1&sn=625dda844c7b01763b76773185265895&chksm=6b9a629e5cedeb88f5b7050331a1fc6fa672935b760c47a4ecd89fca4479ea1bc24c2e59a77d&mpshare=1&scene=1&srcid=09298AIhldJIybTk6xSeeqOg#rd';
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
    };
    wx.ready(function () {
        configShare();
    });
    wxConfig();
</script>
</html>  